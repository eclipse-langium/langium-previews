<!doctype html><html lang=en class=color-toggle-hidden>
<head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<meta name=color-scheme content="light dark">
<meta name=description content="Technologies You&rsquo;ll Need Getting your Language Setup for the Web Factoring out File System Dependencies Setting up Monaco Setting up a Static Page Serving via NodeJS     Updated on Oct. 4th, 2023 for usage with monaco-editor-wrapper 3.1.0 & above, as well as Langium 2.0.2
In this tutorial we&rsquo;ll be talking about running Langium in the web with the Monaco editor. If you&rsquo;re not familiar with Monaco, it&rsquo;s the editor that powers VS Code.">
<title>Langium + Monaco Editor | Langium</title>
<link rel=icon type=image/svg+xml href=../../assets/nib.svg>
<link rel=icon type=image/png sizes=32x32 href=../../favicon/32px.png>
<link rel=icon type=image/png sizes=16x16 href=../../favicon/16px.png>
<meta property="og:title" content="Langium + Monaco Editor">
<meta property="og:description" content="Technologies You&rsquo;ll Need Getting your Language Setup for the Web Factoring out File System Dependencies Setting up Monaco Setting up a Static Page Serving via NodeJS     Updated on Oct. 4th, 2023 for usage with monaco-editor-wrapper 3.1.0 & above, as well as Langium 2.0.2
In this tutorial we&rsquo;ll be talking about running Langium in the web with the Monaco editor. If you&rsquo;re not familiar with Monaco, it&rsquo;s the editor that powers VS Code.">
<meta property="og:type" content="article">
<meta property="og:url" content="/tutorials/langium_and_monaco/"><meta property="article:section" content="tutorials">
<meta property="article:modified_time" content="2024-03-20T10:32:01+01:00">
<meta name=twitter:card content="summary">
<meta name=twitter:title content="Langium + Monaco Editor">
<meta name=twitter:description content="Technologies You&rsquo;ll Need Getting your Language Setup for the Web Factoring out File System Dependencies Setting up Monaco Setting up a Static Page Serving via NodeJS     Updated on Oct. 4th, 2023 for usage with monaco-editor-wrapper 3.1.0 & above, as well as Langium 2.0.2
In this tutorial we&rsquo;ll be talking about running Langium in the web with the Monaco editor. If you&rsquo;re not familiar with Monaco, it&rsquo;s the editor that powers VS Code.">
<script src=../../js/darkmode-ce906ea916.min.js></script>
<link rel=preload as=font href=../../fonts/Metropolis.woff2 type=font/woff2 crossorigin=anonymous>
<link rel=preload as=font href=../../fonts/LiberationSans.woff2 type=font/woff2 crossorigin=anonymous>
<link rel=preload href=../../main-61795ecfac.min.css as=style>
<link rel=stylesheet href=../../main-61795ecfac.min.css media=all>
<link rel=preload href=../../mobile-e214817c8f.min.css as=style>
<link rel=stylesheet href=../../mobile-e214817c8f.min.css media="screen and (max-width: 45rem)">
<link rel=preload href=../../print-f79fc3e5d7.min.css as=style>
<link rel=stylesheet href=../../print-f79fc3e5d7.min.css media=print>
<link rel=preload href=../../custom.css as=style>
<link rel=stylesheet href=../../custom.css media=all>
<link rel=stylesheet href=../../prism/prism.css>
<script src=../../prism/prism.js></script>
<script src=../../prism/langium-prism.js></script>
<script type=application/ld+json>{"@context":"http://schema.org","@type":"TechArticle","articleSection":"tutorials","name":"Langium \u002b Monaco Editor","headline":"Langium \u002b Monaco Editor","alternativeHeadline":"","description":"Technologies You\u0026rsquo;ll Need Getting your Language Setup for the Web Factoring out File System Dependencies Setting up Monaco Setting up a Static Page Serving via NodeJS     Updated on Oct. 4th, 2023 for usage with monaco-editor-wrapper 3.1.0 \u0026amp; above, as well as Langium 2.0.2\nIn this tutorial we\u0026rsquo;ll be talking about running Langium in the web with the Monaco editor. If you\u0026rsquo;re not familiar with Monaco, it\u0026rsquo;s the editor that powers VS Code.","inLanguage":"en","isFamilyFriendly":"true","mainEntityOfPage":{"@type":"WebPage","@id":"\/tutorials\/langium_and_monaco\/"},"copyrightHolder":"Langium","copyrightYear":"0001","dateCreated":"0001-01-01T00:00:00.00Z","datePublished":"0001-01-01T00:00:00.00Z","dateModified":"2024-03-20T10:32:01.00Z","publisher":{"@type":"Organization","name":"Langium","url":"/","logo":{"@type":"ImageObject","url":"\/brand.svg","width":"32","height":"32"}},"url":"\/tutorials\/langium_and_monaco\/","wordCount":"3250","genre":[]}</script>
</head>
<body itemscope itemtype=https://schema.org/WebPage><svg class="svg-sprite" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><symbol viewBox="-2.29 -2.29 28.57 28.57" id="gdoc_arrow_back" xmlns="http://www.w3.org/2000/svg"><path d="M24 10.526v2.947H5.755l8.351 8.421-2.105 2.105-12-12 12-12 2.105 2.105-8.351 8.421H24z"/></symbol><symbol viewBox="-2.29 -2.29 28.57 28.57" id="gdoc_arrow_left_alt" xmlns="http://www.w3.org/2000/svg"><path d="M5.965 10.526V6.035L0 12l5.965 5.965v-4.491H24v-2.947H5.965z"/></symbol><symbol viewBox="-2.29 -2.29 28.57 28.57" id="gdoc_arrow_right_alt" xmlns="http://www.w3.org/2000/svg"><path d="M18.035 10.526V6.035L24 12l-5.965 5.965v-4.491H0v-2.947h18.035z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_bitbucket" xmlns="http://www.w3.org/2000/svg"><path d="M15.905 13.355c.189 1.444-1.564 2.578-2.784 1.839-1.375-.602-1.375-2.784-.034-3.403 1.151-.705 2.818.223 2.818 1.564zm1.907-.361c-.309-2.44-3.076-4.056-5.328-3.042-1.426.636-2.389 2.148-2.32 3.747.086 2.097 2.08 3.815 4.176 3.626s3.729-2.234 3.472-4.331zm4.108-9.315c-.756-.997-2.045-1.169-3.179-1.358-3.214-.516-6.513-.533-9.727.034-1.066.172-2.269.361-2.939 1.323 1.1 1.031 2.664 1.186 4.073 1.358 2.544.327 5.156.344 7.699.017 1.426-.172 3.008-.309 4.073-1.375zm.979 17.788c-.481 1.684-.206 3.953-1.994 4.932-3.076 1.701-6.806 1.89-10.191 1.289-1.787-.327-3.884-.894-4.864-2.578-.43-1.65-.705-3.334-.98-5.018l.103-.275.309-.155c5.121 3.386 12.288 3.386 17.427.0.808.241.206 1.22.189 1.805zM26.01 4.951c-.584 3.764-1.255 7.51-1.908 11.257-.189 1.1-1.255 1.719-2.148 2.183-3.214 1.615-6.96 1.89-10.483 1.512-2.389-.258-4.829-.894-6.771-2.389-.911-.705-.911-1.908-1.083-2.922-.602-3.523-1.289-7.046-1.719-10.604.206-1.547 1.942-2.217 3.231-2.698C6.848.654 8.686.362 10.508.19c3.884-.378 7.854-.241 11.618.859 1.341.395 2.784.945 3.695 2.097.412.533.275 1.203.189 1.805z"/></symbol><symbol viewBox="-2.29 -2.29 28.57 28.57" id="gdoc_bookmark" xmlns="http://www.w3.org/2000/svg"><path d="M15.268 4.392q.868.0 1.532.638t.664 1.506v17.463l-7.659-3.268-7.608 3.268V6.536q0-.868.664-1.506t1.532-.638h10.876zm4.34 14.144V4.392q0-.868-.638-1.532t-1.506-.664H6.537q0-.868.664-1.532T8.733.0h10.876q.868.0 1.532.664t.664 1.532v17.412z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_brightness_auto" xmlns="http://www.w3.org/2000/svg"><path d="M16.846 18.938h2.382L15.22 7.785h-2.44L8.772 18.938h2.382l.871-2.44h3.95zm7.087-9.062L27.999 14l-4.066 4.124v5.809h-5.809L14 27.999l-4.124-4.066H4.067v-5.809L.001 14l4.066-4.124V4.067h5.809L14 .001l4.124 4.066h5.809v5.809zm-11.385 4.937L14 10.282l1.452 4.531h-2.904z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_brightness_dark" xmlns="http://www.w3.org/2000/svg"><path d="M14 21.435q3.079.0 5.257-2.178T21.435 14t-2.178-5.257T14 6.565q-1.51.0-3.079.697 1.917.871 3.108 2.701T15.22 14t-1.191 4.037-3.108 2.701q1.568.697 3.079.697zm9.933-11.559L27.999 14l-4.066 4.124v5.809h-5.809L14 27.999l-4.124-4.066H4.067v-5.809L.001 14l4.066-4.124V4.067h5.809L14 .001l4.124 4.066h5.809v5.809z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_brightness_light" xmlns="http://www.w3.org/2000/svg"><path d="M14 21.435q3.079.0 5.257-2.178T21.435 14t-2.178-5.257T14 6.565 8.743 8.743 6.565 14t2.178 5.257T14 21.435zm9.933-3.311v5.809h-5.809L14 27.999l-4.124-4.066H4.067v-5.809L.001 14l4.066-4.124V4.067h5.809L14 .001l4.124 4.066h5.809v5.809L27.999 14z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_check" xmlns="http://www.w3.org/2000/svg"><path d="M8.885 20.197 25.759 3.323l2.24 2.24L8.885 24.677.0 15.792l2.24-2.24z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_cloud_off" xmlns="http://www.w3.org/2000/svg"><path d="M9.023 10.5H7q-1.914.0-3.281 1.395t-1.367 3.309 1.367 3.281T7 19.852h11.375zM3.5 4.976l1.477-1.477L24.5 23.022l-1.477 1.477-2.352-2.297H6.999q-2.898.0-4.949-2.051t-2.051-4.949q0-2.844 1.969-4.867t4.758-2.133zm19.086 5.578q2.242.164 3.828 1.832T28 16.351q0 3.008-2.461 4.758l-1.695-1.695q1.805-.984 1.805-3.063.0-1.422-1.039-2.461t-2.461-1.039h-1.75v-.602q0-2.68-1.859-4.539t-4.539-1.859q-1.531.0-2.953.711l-1.75-1.695Q11.431 3.5 14.001 3.5q2.953.0 5.496 2.078t3.09 4.977z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_code" xmlns="http://www.w3.org/2000/svg"><path d="M9.917 24.5a1.75 1.75.0 10-3.501.001 1.75 1.75.0 003.501-.001zm0-21a1.75 1.75.0 10-3.501.001A1.75 1.75.0 009.917 3.5zm11.666 2.333a1.75 1.75.0 10-3.501.001 1.75 1.75.0 003.501-.001zm1.75.0a3.502 3.502.0 01-1.75 3.026c-.055 6.581-4.721 8.039-7.82 9.023-2.898.911-3.846 1.349-3.846 3.117v.474a3.502 3.502.0 011.75 3.026c0 1.932-1.568 3.5-3.5 3.5s-3.5-1.568-3.5-3.5c0-1.294.711-2.424 1.75-3.026V6.526A3.502 3.502.0 014.667 3.5c0-1.932 1.568-3.5 3.5-3.5s3.5 1.568 3.5 3.5a3.502 3.502.0 01-1.75 3.026v9.06c.93-.456 1.914-.766 2.807-1.039 3.391-1.075 5.323-1.878 5.359-5.687a3.502 3.502.0 01-1.75-3.026c0-1.932 1.568-3.5 3.5-3.5s3.5 1.568 3.5 3.5z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_copy" xmlns="http://www.w3.org/2000/svg"><path d="M23.502 25.438V7.626H9.562v17.812h13.94zm0-20.315q1.013.0 1.787.745t.774 1.757v17.812q0 1.013-.774 1.787t-1.787.774H9.562q-1.013.0-1.787-.774t-.774-1.787V7.625q0-1.013.774-1.757t1.787-.745h13.94zM19.689.0v2.562H4.438v17.812H1.936V2.562q0-1.013.745-1.787T4.438.001h15.251z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_date" xmlns="http://www.w3.org/2000/svg"><path d="M27.192 28.844V11.192H4.808v17.652h22.384zm0-25.689q1.277.0 2.253.976t.976 2.253v22.459q0 1.277-.976 2.216t-2.253.939H4.808q-1.352.0-2.291-.901t-.939-2.253V6.385q0-1.277.939-2.253t2.291-.976h1.577V.001h3.23v3.155h12.769V.001h3.23v3.155h1.577zm-3.155 11.267v3.155h-3.23v-3.155h3.23zm-6.46.0v3.155h-3.155v-3.155h3.155zm-6.384.0v3.155h-3.23v-3.155h3.23z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_download" xmlns="http://www.w3.org/2000/svg"><path d="M2.866 28.209h26.269v3.79H2.866v-3.79zm26.268-16.925L16 24.418 2.866 11.284h7.493V.001h11.283v11.283h7.493z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_email" xmlns="http://www.w3.org/2000/svg"><path d="M28.845 9.615v-3.23L16 14.422 3.155 6.385v3.23L16 17.577zm0-6.46q1.277.0 2.216.977T32 6.385v19.23q0 1.277-.939 2.253t-2.216.977H3.155q-1.277.0-2.216-.977T0 25.615V6.385q0-1.277.939-2.253t2.216-.977h25.69z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_git" xmlns="http://www.w3.org/2000/svg"><path d="M27.472 12.753 15.247.529a1.803 1.803.0 00-2.55.0l-2.84 2.84 2.137 2.137a2.625 2.625.0 013.501 3.501l3.499 3.499a2.625 2.625.0 11-1.237 1.237l-3.499-3.499c-.083.04-.169.075-.257.106v7.3a2.626 2.626.0 11-1.75.0v-7.3a2.626 2.626.0 01-1.494-3.607L8.62 4.606l-8.09 8.09a1.805 1.805.0 000 2.551l12.225 12.224a1.803 1.803.0 002.55.0l12.168-12.168a1.805 1.805.0 000-2.551z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_github" xmlns="http://www.w3.org/2000/svg"><path d="M16 .394c8.833.0 15.999 7.166 15.999 15.999.0 7.062-4.583 13.062-10.937 15.187-.813.146-1.104-.354-1.104-.771.0-.521.021-2.25.021-4.396.0-1.5-.5-2.458-1.083-2.958 3.562-.396 7.312-1.75 7.312-7.896.0-1.75-.625-3.167-1.646-4.291.167-.417.708-2.042-.167-4.25-1.333-.417-4.396 1.646-4.396 1.646a15.032 15.032.0 00-8 0S8.937 6.602 7.603 7.018c-.875 2.208-.333 3.833-.167 4.25-1.021 1.125-1.646 2.542-1.646 4.291.0 6.125 3.729 7.5 7.291 7.896-.458.417-.875 1.125-1.021 2.146-.917.417-3.25 1.125-4.646-1.333-.875-1.521-2.458-1.646-2.458-1.646-1.562-.021-.104.979-.104.979 1.042.479 1.771 2.333 1.771 2.333.938 2.854 5.396 1.896 5.396 1.896.0 1.333.021 2.583.021 2.979.0.417-.292.917-1.104.771C4.582 29.455-.001 23.455-.001 16.393-.001 7.56 7.165.394 15.998.394zM6.063 23.372c.042-.083-.021-.187-.146-.25-.125-.042-.229-.021-.271.042-.042.083.021.187.146.25.104.062.229.042.271-.042zm.646.709c.083-.062.062-.208-.042-.333-.104-.104-.25-.146-.333-.062-.083.062-.062.208.042.333.104.104.25.146.333.062zm.625.937c.104-.083.104-.25.0-.396-.083-.146-.25-.208-.354-.125-.104.062-.104.229.0.375s.271.208.354.146zm.875.875c.083-.083.042-.271-.083-.396-.146-.146-.333-.167-.417-.062-.104.083-.062.271.083.396.146.146.333.167.417.062zm1.187.521c.042-.125-.083-.271-.271-.333-.167-.042-.354.021-.396.146s.083.271.271.312c.167.062.354.0.396-.125zm1.313.104c0-.146-.167-.25-.354-.229-.187.0-.333.104-.333.229.0.146.146.25.354.229.187.0.333-.104.333-.229zm1.208-.208c-.021-.125-.187-.208-.375-.187-.187.042-.312.167-.292.312.021.125.187.208.375.167s.312-.167.292-.292z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_gitlab" xmlns="http://www.w3.org/2000/svg"><path d="M1.629 11.034 14 26.888.442 17.048a1.09 1.09.0 01-.39-1.203l1.578-4.811zm7.217.0h10.309l-5.154 15.854zM5.753 1.475l3.093 9.559H1.63l3.093-9.559a.548.548.0 011.031.0zm20.618 9.559 1.578 4.811c.141.437-.016.922-.39 1.203l-13.558 9.84 12.371-15.854zm0 0h-7.216l3.093-9.559a.548.548.0 011.031.0z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_heart" xmlns="http://www.w3.org/2000/svg"><path d="M16 29.714a1.11 1.11.0 01-.786-.321L4.072 18.643c-.143-.125-4.071-3.714-4.071-8 0-5.232 3.196-8.357 8.535-8.357 3.125.0 6.053 2.464 7.464 3.857 1.411-1.393 4.339-3.857 7.464-3.857 5.339.0 8.535 3.125 8.535 8.357.0 4.286-3.928 7.875-4.089 8.035L16.785 29.392c-.214.214-.5.321-.786.321z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_home" xmlns="http://www.w3.org/2000/svg"><path d="M24.003 15.695v8.336c0 .608-.504 1.111-1.111 1.111h-6.669v-6.669h-4.446v6.669H5.108a1.119 1.119.0 01-1.111-1.111v-8.336c0-.035.017-.069.017-.104L14 7.359l9.986 8.232a.224.224.0 01.017.104zm3.873-1.198-1.077 1.285a.578.578.0 01-.365.191h-.052a.547.547.0 01-.365-.122L14 5.831 1.983 15.851a.594.594.0 01-.417.122.578.578.0 01-.365-.191L.124 14.497a.57.57.0 01.069-.781L12.679 3.314c.729-.608 1.91-.608 2.64.0l4.237 3.543V3.471c0-.313.243-.556.556-.556h3.334c.313.0.556.243.556.556v7.085l3.803 3.161c.226.191.26.556.069.781z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_keyborad_arrow_down" xmlns="http://www.w3.org/2000/svg"><path d="M3.281 5.36 14 16.079 24.719 5.36 28 8.641l-14 14-14-14z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_keyborad_arrow_left" xmlns="http://www.w3.org/2000/svg"><path d="M25.875 28.25 22.125 32 6.126 16.001 22.125.002l3.75 3.75-12.25 12.25z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_keyborad_arrow_right" xmlns="http://www.w3.org/2000/svg"><path d="M6.125 28.25 18.375 16 6.125 3.75 9.875.0l15.999 15.999L9.875 31.998z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_keyborad_arrow_up" xmlns="http://www.w3.org/2000/svg"><path d="M24.719 22.64 14 11.921 3.281 22.64.0 19.359l14-14 14 14z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_link" xmlns="http://www.w3.org/2000/svg"><path d="M24.037 7.963q3.305.0 5.634 2.366T32 16t-2.329 5.671-5.634 2.366h-6.46v-3.08h6.46q2.028.0 3.493-1.465t1.465-3.493-1.465-3.493-3.493-1.465h-6.46v-3.08h6.46zM9.615 17.578v-3.155h12.77v3.155H9.615zM3.005 16q0 2.028 1.465 3.493t3.493 1.465h6.46v3.08h-6.46q-3.305.0-5.634-2.366T0 16.001t2.329-5.671 5.634-2.366h6.46v3.08h-6.46q-2.028.0-3.493 1.465t-1.465 3.493z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_menu" xmlns="http://www.w3.org/2000/svg"><path d="M.001 5.334h31.998v3.583H.001V5.334zm0 12.416v-3.5h31.998v3.5H.001zm0 8.916v-3.583h31.998v3.583H.001z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_notification" xmlns="http://www.w3.org/2000/svg"><path d="M22.615 19.384l2.894 2.894v1.413H2.49v-1.413l2.894-2.894V12.25q0-3.365 1.716-5.856t4.745-3.231v-1.01q0-.875.606-1.514T13.999.0t1.548.639.606 1.514v1.01q3.029.74 4.745 3.231t1.716 5.856v7.134zM14 27.999q-1.211.0-2.053-.808t-.841-2.019h5.788q0 1.144-.875 1.986T14 27.999z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_path" xmlns="http://www.w3.org/2000/svg"><path d="M28 12.62h-9.793V8.414h-2.826v11.173h2.826v-4.206H28V26.62h-9.793v-4.206H12.62v-14H9.794v4.206H.001V1.381h9.793v4.206h8.413V1.381H28V12.62z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_person" xmlns="http://www.w3.org/2000/svg"><path d="M16 20.023q5.052.0 10.526 2.199t5.473 5.754v4.023H0v-4.023q0-3.555 5.473-5.754t10.526-2.199zM16 16q-3.275.0-5.614-2.339T8.047 8.047t2.339-5.661T16 0t5.614 2.386 2.339 5.661-2.339 5.614T16 16z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_search" xmlns="http://www.w3.org/2000/svg"><path d="M11.925 20.161q3.432.0 5.834-2.402t2.402-5.834-2.402-5.834-5.834-2.402-5.834 2.402-2.402 5.834 2.402 5.834 5.834 2.402zm10.981.0L32 29.255 29.255 32l-9.094-9.094v-1.458l-.515-.515q-3.26 2.831-7.721 2.831-4.976.0-8.45-3.432T.001 11.925t3.474-8.45 8.45-3.474 8.407 3.474 3.432 8.45q0 1.802-.858 4.075t-1.973 3.646l.515.515h1.458z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_shield" xmlns="http://www.w3.org/2000/svg"><path d="M22.167 15.166V3.5h-8.166v20.726c.93-.492 2.424-1.349 3.883-2.497 1.95-1.531 4.284-3.919 4.284-6.562zm3.499-13.999v14c0 7.674-10.737 12.523-11.192 12.724-.146.073-.31.109-.474.109s-.328-.036-.474-.109c-.456-.201-11.192-5.049-11.192-12.724v-14C2.334.529 2.863.0 3.501.0H24.5c.638.0 1.167.529 1.167 1.167z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_tags" xmlns="http://www.w3.org/2000/svg"><path d="M6.606 7.549c0-1.047-.84-1.887-1.887-1.887s-1.887.84-1.887 1.887.84 1.887 1.887 1.887 1.887-.84 1.887-1.887zm15.732 8.493c0 .501-.206.988-.546 1.327l-7.239 7.254c-.354.339-.84.546-1.342.546s-.988-.206-1.327-.546L1.342 14.066C.59 13.329.0 11.899.0 10.852V4.718a1.9 1.9.0 011.887-1.887h6.134c1.047.0 2.477.59 3.229 1.342L21.792 14.7c.339.354.546.84.546 1.342zm5.661.0c0 .501-.206.988-.546 1.327l-7.239 7.254c-.354.339-.84.546-1.342.546-.767.0-1.15-.354-1.651-.87l6.93-6.93c.339-.339.546-.826.546-1.327s-.206-.988-.546-1.342L13.609 4.173c-.752-.752-2.182-1.342-3.229-1.342h3.303c1.047.0 2.477.59 3.229 1.342L27.454 14.7c.339.354.546.84.546 1.342z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_timer" xmlns="http://www.w3.org/2000/svg"><path d="M16 29q4.428.0 7.536-3.143t3.107-7.571-3.107-7.536T16 7.643 8.464 10.75t-3.107 7.536 3.107 7.571T16 29zM26.714 9.786q1.214 1.571 2.107 4.036t.893 4.464q0 5.643-4 9.678T16 32t-9.714-4.036-4-9.678 4-9.678T16 4.572q1.929.0 4.464.929t4.107 2.143l2.143-2.214q1.143.929 2.143 2.143zM14.5 19.857v-9.143h3v9.143h-3zM20.571.001v3.071h-9.143V.001h9.143z"/></symbol></svg>
<div class=wrapper>
<input type=checkbox class=hidden id=menu-control>
<input type=checkbox class=hidden id=menu-header-control>
<header class=gdoc-header>
<div class="container flex align-center justify-between">
<label for=menu-control class=gdoc-nav__control><svg class="icon gdoc_menu"><title>Open Nav Menu</title><use xlink:href="#gdoc_menu"/></svg><svg class="icon gdoc_arrow_back"><title>Close Nav Menu</title><use xlink:href="#gdoc_arrow_back"/></svg>
</label>
<a class=gdoc-header__link href=../../>
<span class="gdoc-brand flex align-center">
<img class=gdoc-brand__img style=width:10rem;height:2rem src=../../assets/langium_logo_w_nib.svg alt>
</span>
</a>
<div class=gdoc-menu-header>
<span class=gdoc-menu-header__items>
<span>
<a href=https://github.com/eclipse-langium/langium class=gdoc-header__link><svg class="icon gdoc_github"><title>GitHub</title><use xlink:href="#gdoc_github"/></svg>
</a>
</span>
<span id=gdoc-dark-mode><svg class="icon gdoc_brightness_dark"><title>Toggle Dark/Light/Auto mode</title><use xlink:href="#gdoc_brightness_dark"/></svg><svg class="icon gdoc_brightness_light"><title>Toggle Dark/Light/Auto mode</title><use xlink:href="#gdoc_brightness_light"/></svg><svg class="icon gdoc_brightness_auto"><title>Toggle Dark/Light/Auto mode</title><use xlink:href="#gdoc_brightness_auto"/></svg>
</span>
<span class=gdoc-menu-header__home>
<a href=../../ class=gdoc-header__link><svg class="icon gdoc_home"><title>Back to homepage</title><use xlink:href="#gdoc_home"/></svg>
</a>
</span>
<span class=gdoc-menu-header__control>
<label for=menu-header-control><svg class="icon gdoc_keyborad_arrow_right"><use xlink:href="#gdoc_keyborad_arrow_right"/><title>Close Menu Bar</title></svg>
</label>
</span>
</span>
<label for=menu-header-control class=gdoc-menu-header__control><svg class="icon gdoc_keyborad_arrow_left"><use xlink:href="#gdoc_keyborad_arrow_left"/><title>Open Menu Bar</title></svg>
</label>
</div>
</div>
</header>
<main class="container flex flex-even">
<aside class=gdoc-nav>
<nav>
<div class=gdoc-search><svg class="icon gdoc_search"><use xlink:href="#gdoc_search"/></svg>
<input type=text id=gdoc-search-input class=gdoc-search__input placeholder=Search... aria-label=Search maxlength=64>
<div class="gdoc-search__spinner spinner hidden"></div>
<ul id=gdoc-search-results class=gdoc-search__list></ul>
</div>
<section class=gdoc-nav--main>
<h2>Navigation</h2>
<ul class=gdoc-nav__list>
<li>
<span class=flex>
<a href=../../playground/ class=gdoc-nav__entry>
Playground
</a>
</span>
</li>
<li>
<span class=flex>
<a href=../../docs/ class=gdoc-nav__entry>
Documentation
</a>
</span>
<ul class=gdoc-nav__list>
<li>
<span class=flex>
<a href=../../docs/langium-overview/ class=gdoc-nav__entry>
Langium Overview
</a>
</span>
</li>
<li>
<span class=flex>
<a href=../../docs/getting-started/ class=gdoc-nav__entry>
Getting Started
</a>
</span>
</li>
<li>
<span class=flex>
<a href=../../docs/grammar-language/ class=gdoc-nav__entry>
The Grammar Language
</a>
</span>
</li>
<li>
<span class=flex>
<a href=../../docs/sematic-model/ class=gdoc-nav__entry>
Semantic Model Inference
</a>
</span>
</li>
<li>
<span class=flex>
<a href=../../docs/configuration-services/ class=gdoc-nav__entry>
Configuration via Services
</a>
</span>
</li>
<li>
<span class=flex>
<a href=../../docs/document-lifecycle/ class=gdoc-nav__entry>
Document Lifecycle
</a>
</span>
</li>
</ul>
</li>
<li>
<span class=flex>
<a href=../../guides/ class=gdoc-nav__entry>
Guides
</a>
</span>
<ul class=gdoc-nav__list>
<li>
<span class=flex>
<a href=../../guides/code-bundling/ class=gdoc-nav__entry>
Code Bundling
</a>
</span>
</li>
<li>
<span class=flex>
<a href=../../guides/scoping/ class=gdoc-nav__entry>
Scoping
</a>
</span>
<ul class=gdoc-nav__list>
<li>
<span class=flex>
<a href=../../guides/scoping/qualified-name/ class=gdoc-nav__entry>
Qualified Name Scoping
</a>
</span>
</li>
<li>
<span class=flex>
<a href=../../guides/scoping/class-member/ class=gdoc-nav__entry>
Class Member Scoping
</a>
</span>
</li>
</ul>
</li>
<li>
<span class=flex>
<a href=../../guides/builtin-library/ class=gdoc-nav__entry>
Builtin Libraries
</a>
</span>
</li>
<li>
<span class=flex>
<a href=../../guides/formatting/ class=gdoc-nav__entry>
Formatting
</a>
</span>
</li>
<li>
<span class=flex>
<a href=../../guides/multiple-languages/ class=gdoc-nav__entry>
Multiple dependent languages
</a>
</span>
</li>
</ul>
</li>
<li>
<span class=flex>
<a href=../../tutorials/ class=gdoc-nav__entry>
Tutorials
</a>
</span>
<ul class=gdoc-nav__list>
<li>
<span class=flex>
<a href=../../tutorials/writing_a_grammar/ class=gdoc-nav__entry>
Writing a Grammar
</a>
</span>
</li>
<li>
<span class=flex>
<a href=../../tutorials/validation/ class=gdoc-nav__entry>
Validation
</a>
</span>
</li>
<li>
<span class=flex>
<a href=../../tutorials/customizing_cli/ class=gdoc-nav__entry>
Customizing the CLI
</a>
</span>
</li>
<li>
<span class=flex>
<a href=../../tutorials/generation/ class=gdoc-nav__entry>
Generation
</a>
</span>
</li>
<li>
<span class=flex>
<a href=../../tutorials/building_an_extension/ class=gdoc-nav__entry>
Building an Extension
</a>
</span>
</li>
<li>
<span class=flex>
<a href=../../tutorials/langium_and_monaco/ class="gdoc-nav__entry is-active">
Langium + Monaco Editor
</a>
</span>
</li>
<li>
<span class=flex>
<a href=../../tutorials/generation_in_the_web/ class=gdoc-nav__entry>
Generation in the Web
</a>
</span>
</li>
</ul>
</li>
<li>
<span class=flex>
<a href=../../showcase/ class=gdoc-nav__entry>
Langium Showcase
</a>
</span>
<ul class=gdoc-nav__list>
</ul>
</li>
</ul>
</section>
<section class=gdoc-nav--more>
<h2>More</h2>
<ul class=gdoc-nav__list>
<li>
<span class=flex><svg class="icon gdoc_download"><use xlink:href="#gdoc_download"/></svg>
<a href=https://www.npmjs.com/package/langium class=gdoc-nav__entry>
Get npm Package
</a>
</span>
</li>
<li>
<span class=flex><svg class="icon gdoc_github"><use xlink:href="#gdoc_github"/></svg>
<a href=https://github.com/eclipse-langium/langium class=gdoc-nav__entry>
View Source
</a>
</span>
</li>
</ul>
</section>
</nav>
</aside>
<div class=gdoc-page>
<div class="gdoc-page__header flex flex-wrap
justify-between" itemprop=breadcrumb>
<div><svg class="icon gdoc_path hidden-mobile"><use xlink:href="#gdoc_path"/></svg>
<ol class=breadcrumb itemscope itemtype=https://schema.org/BreadcrumbList>
<li itemprop=itemListElement itemscope itemtype=https://schema.org/ListItem><a itemscope itemtype=https://schema.org/WebPage itemprop=item itemid=/ href=../../><span itemprop=name>Langium</span></a><meta itemprop=position content="1"></li><li> / </li><li itemprop=itemListElement itemscope itemtype=https://schema.org/ListItem><a itemscope itemtype=https://schema.org/WebPage itemprop=item itemid=/tutorials/ href=../../tutorials/><span itemprop=name>Tutorials</span></a><meta itemprop=position content="2"></li><li> / </li><li itemprop=itemListElement itemscope itemtype=https://schema.org/ListItem><span itemprop=name>Langium + Monaco Editor</span><meta itemprop=position content="3"></li>
</ol>
</div>
<div>
<span class=editpage><svg class="icon gdoc_code"><use xlink:href="#gdoc_code"/></svg>
<a href=https://github.com/eclipse-langium/langium-website/blob/main/hugo/content/tutorials/langium_and_monaco.md>
Edit this page
</a>
</span>
</div>
</div>
<article class="gdoc-markdown gdoc-markdown__align--left">
<h1>Langium + Monaco Editor</h1>
<div class="gdoc-toc gdoc-toc__level--3"><nav id=TableOfContents><ul>
<li><a href=#technologies-youll-need>Technologies You&rsquo;ll Need</a></li>
<li><a href=#getting-your-language-setup-for-the-web>Getting your Language Setup for the Web</a></li>
<li><a href=#factoring-out-file-system-dependencies>Factoring out File System Dependencies</a></li>
<li><a href=#setting-up-monaco>Setting up Monaco</a></li>
<li><a href=#setting-up-a-static-page>Setting up a Static Page</a></li>
<li><a href=#serving-via-nodejs>Serving via NodeJS</a></li>
</ul></nav><hr></div>
<p><em>Updated on Oct. 4th, 2023 for usage with monaco-editor-wrapper 3.1.0 & above, as well as Langium 2.0.2</em></p>
<p>In this tutorial we&rsquo;ll be talking about running Langium in the web with the Monaco editor. If you&rsquo;re not familiar with Monaco, it&rsquo;s the editor that powers VS Code. We&rsquo;re quite fond of it at TypeFox, so we&rsquo;ve taken the time to write up this tutorial to explain how to integrate Langium in the web with Monaco, no backend required.</p>
<p>Although we&rsquo;re using Monaco in this tutorial, that does not mean that you cannot use another code editor of your choice. For example, you can use Code Mirror with Langium as well. Generally, if an editor has LSP support, it is very likely you can integrate it easily with Langium, since it&rsquo;s LSP compatible.</p>
<p>Without further ado, let&rsquo;s jump into getting your web-based Langium experience setup!</p>
<div class=gdoc-page__anchorwrap>
<h2 id=technologies-youll-need>
Technologies You&rsquo;ll Need
<a data-clipboard-text=/tutorials/langium_and_monaco/#technologies-youll-need class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor Technologies You&rsquo;ll Need" href=#technologies-youll-need><svg class="icon gdoc_link"><use xlink:href="#gdoc_link"/></svg>
</a>
</h2>
</div><ul>
<li><a class=gdoc-markdown__link href=https://www.npmjs.com/package/langium>Langium</a> 2.0.2 or greater</li>
<li><a class=gdoc-markdown__link href=https://www.npmjs.com/package/monaco-editor-wrapper>Monaco Editor Wrapper</a> 3.1.0 or greater</li>
<li><a class=gdoc-markdown__link href=https://www.npmjs.com/package/esbuild>ESBuild</a> 0.18.20 or greater</li>
</ul>
<div class=gdoc-page__anchorwrap>
<h2 id=getting-your-language-setup-for-the-web>
Getting your Language Setup for the Web
<a data-clipboard-text=/tutorials/langium_and_monaco/#getting-your-language-setup-for-the-web class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor Getting your Language Setup for the Web" href=#getting-your-language-setup-for-the-web><svg class="icon gdoc_link"><use xlink:href="#gdoc_link"/></svg>
</a>
</h2>
</div><p>To begin, you&rsquo;re going to need a Langium-based language to work with. We have already written <a class=gdoc-markdown__link href=https://github.com/langium/langium-minilogo>MiniLogo</a> in Langium as an example for deploying a language in the web. However, if you&rsquo;ve been following along with these tutorials so far, you should be ready to move your own language into a web-based context.</p>
<p>Per usual, we&rsquo;ll be using MiniLogo as the motivating example here.</p>
<div class=gdoc-page__anchorwrap>
<h2 id=factoring-out-file-system-dependencies>
Factoring out File System Dependencies
<a data-clipboard-text=/tutorials/langium_and_monaco/#factoring-out-file-system-dependencies class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor Factoring out File System Dependencies" href=#factoring-out-file-system-dependencies><svg class="icon gdoc_link"><use xlink:href="#gdoc_link"/></svg>
</a>
</h2>
</div><p>In order to build for the browser, we need to create a bundle that is free of any browser-incompatible modules. To do this, let&rsquo;s create a new entry point for our language server in <strong>src/language-server/main-browser.ts</strong>. This will mirror the regular entry point that we use to build already, but will target a browser-based context instead. We&rsquo;ll start with the following content:</p>
<pre><code class=language-ts>import { startLanguageServer, EmptyFileSystem } from 'langium';
import { BrowserMessageReader, BrowserMessageWriter, createConnection } from 'vscode-languageserver/browser.js';
// your services &amp; module name may differ based on your language's name
import { createMiniLogoServices } from './minilogo-module.js';

declare const self: DedicatedWorkerGlobalScope;

/* browser specific setup code */
const messageReader = new BrowserMessageReader(self);
const messageWriter = new BrowserMessageWriter(self);

const connection = createConnection(messageReader, messageWriter);

// Inject the shared services and language-specific services
const { shared, MiniLogo } = createMiniLogoServices({connection, ...EmptyFileSystem });

// Start the language server with the shared services
startLanguageServer(shared);
</code></pre>
<p>Again, this is based on code that was originally produced by the yeoman generator, so it should look familiar.</p>
<p>Most of this is in line with what&rsquo;s contained in the <strong>main.ts</strong> file. The exceptions being the message readers & writers, and the notion of an <code>EmptyFileSystem</code> for the browser. There is a virtual file system API that we could utilize on most modern browsers, but for this tutorial we&rsquo;ll assume we aren&rsquo;t using any file system. Instead we&rsquo;ll have a single source &lsquo;file&rsquo; located in memory.</p>
<p>We&rsquo;ll also need to include a library to resolve the missing <code>DedicatedWorkerGlobalScope</code>, which is normally not accessible until we update our <strong>tsconfig.json</strong> in our project root. We need to supplement the libs entry with <code>DOM</code> and <code>WebWorker</code>. From the yeoman generator example, the <code>lib</code> entry usually has just <code>["ESNext"]</code>.</p>
<pre><code class=language-json>{
    &quot;compilerOptions&quot;: {
        ...
        &quot;lib&quot;: [&quot;ESNext&quot;, &quot;DOM&quot;, &quot;WebWorker&quot;]
    }
}
</code></pre>
<p>Now that we have a new entry point for the browser, we need to add a script to our <strong>package.json</strong> to build a web worker for this language. The bundle this script produces will contain the language server for your language. The following script example is specific to MiniLogo, but should capture the general approach quite nicely:</p>
<pre><code class=language-json>{
    ...
    &quot;build:worker&quot;: &quot;esbuild --minify ./out/language-server/main-browser.js --bundle --format=iife --outfile=./public/minilogo-server-worker.js&quot;,
}
</code></pre>
<p>Assuming <code>esbuild</code> is installed, and we&rsquo;ve properly factored out any modules that are not suitable for a browser-based context, we should be good to go!</p>
<p>Running <code>npm run build:worker</code> we should see the bundle is successfully generated without issue. If you&rsquo;re still having problems building the worker, double check that you&rsquo;re not coupled to <code>fs</code> or other file system dependent modules in a related file.</p>
<p>Note that although our generator is still connected to using the file system, it&rsquo;s not relevant for the worker bundle to function.</p>
<div class=gdoc-page__anchorwrap>
<h2 id=setting-up-monaco>
Setting up Monaco
<a data-clipboard-text=/tutorials/langium_and_monaco/#setting-up-monaco class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor Setting up Monaco" href=#setting-up-monaco><svg class="icon gdoc_link"><use xlink:href="#gdoc_link"/></svg>
</a>
</h2>
</div><p>Now we&rsquo;re going to setup Monaco, but not with Langium yet, as we want to be sure it&rsquo;s working first before connecting the two.</p>
<p>For convenience, we&rsquo;re going to use the Monaco Editor Wrapper (MER) to wrap around some of Monaco&rsquo;s core functionality, along with the Monaco Editor Workers package to assist. These packages are both maintained by TypeFox, and are designed to make it easier to use Monaco in a web-based context. We&rsquo;ll be using the following versions of these packages:</p>
<ul>
<li><a class=gdoc-markdown__link href=https://www.npmjs.com/package/monaco-editor-wrapper>Monaco Editor Wrapper</a> version <strong>3.1.0</strong></li>
<li><a class=gdoc-markdown__link href=https://www.npmjs.com/package/monaco-editor-workers>monaco-editor-workers</a> version <strong>0.39.0</strong></li>
</ul>
<p>Both these packages should be installed as dependencies for your language. In particular, this guide will assume that you&rsquo;re using version <strong>3.1.0</strong> or later of the monaco-editor-wrapper package, and version <strong>0.39.0</strong> of the monaco-editor-workers package.</p>
<p>Additionally, we&rsquo;ll want a way to serve this bundled language server. The choice of how you want to go about this is ultimately up to you. Previously we&rsquo;ve recommended <code>express</code> as a development dependency (don&rsquo;t forget to also add <code>@types/express</code> too), as a powerful & lightweight NodeJS server framework. However, we&rsquo;ll be going with the built-in NodeJS support for standing up a web-server; however again the choice is yours here.</p>
<p>We&rsquo;ll also want to add some more scripts to our package.json to copy over the necessary files from the monaco-editor-wrapper & monaco-editor-worker into the <strong>public</strong> folder. We&rsquo;ll be referencing these library assets to setup the webpage for Langium + Monaco.</p>
<pre><code class=language-json>{
    ...
    &quot;prepare:public&quot;: &quot;node scripts/prepare-public.mjs&quot;,
    &quot;build:web&quot;: &quot;npm run build &amp;&amp; npm run prepare:public &amp;&amp; npm run build:worker &amp;&amp; node scripts/copy-monaco-assets.mjs&quot;,
}
</code></pre>
<p>Both scripts reference <em>mjs</em> files that need to be added as well into the scripts folder:</p>
<p><strong>scripts/prepare-public.mjs</strong></p>
<pre><code class=language-js>import * as esbuild from 'esbuild'
import shell from 'shelljs'

// setup &amp; copy over css &amp; html to public
shell.mkdir('-p', './public');
shell.cp('-fr', './src/static/*.css', './public/');
shell.cp('-fr', './src/static/*.html', './public');

// bundle minilogo.ts, and also copy to public
await esbuild.build({
  entryPoints: ['./src/static/minilogo.ts'],
  minify: true,
  sourcemap: true,
  bundle: true,
  outfile: './public/minilogo.js',
});
</code></pre>
<p><strong>scripts/copy-monaco-assets.mjs</strong></p>
<pre><code class=language-js>import shell from 'shelljs'

// copy workers to public
shell.mkdir('-p', './public/monaco-editor-workers/workers');
shell.cp(
    '-fr',
    './node_modules/monaco-editor-workers/dist/index.js',
    './public/monaco-editor-workers/index.js'
);
shell.cp(
    '-fr',
    './node_modules/monaco-editor-workers/dist/workers/editorWorker-es.js',
    './public/monaco-editor-workers/workers/editorWorker-es.js'
);
shell.cp(
    '-fr',
    './node_modules/monaco-editor-workers/dist/workers/editorWorker-iife.js',
    './public/monaco-editor-workers/workers/editorWorker-iife.js'
);
</code></pre>
<p>This saves us from writing these extra details into our package json, and focusing on the overall goal each step.</p>
<p>The last script, <code>build:web</code> is there to provide a convenient way to invoke all the intermediate build steps in sequence. However you&rsquo;ll want to wait before running the <code>build:web</code> script, as we still need to add our <strong>static</strong> assets to make that work; which will come in the next step.</p>
<p>As a quick note, if you went with another editor you would want to make sure that the assets required for that editor will also be copied into <strong>public</strong> folder as part of your output.</p>
<div class=gdoc-page__anchorwrap>
<h2 id=setting-up-a-static-page>
Setting up a Static Page
<a data-clipboard-text=/tutorials/langium_and_monaco/#setting-up-a-static-page class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor Setting up a Static Page" href=#setting-up-a-static-page><svg class="icon gdoc_link"><use xlink:href="#gdoc_link"/></svg>
</a>
</h2>
</div><p>And now for the actual HTML page itself, plus it&rsquo;s supporting assets. To keep things organized, we&rsquo;re splitting up the JS and CSS. We&rsquo;ll be putting all of these files into a new location from our project root, <strong>src/static/</strong>.</p>
<p>Here&rsquo;s the raw contents of the HTML content stored in <strong>src/static/index.html</strong>. This will serve as a frame for Monaco to be setup within.</p>
<pre><code class=language-html>&lt;!DOCTYPE html&gt;
&lt;html&gt;
    &lt;head&gt;
        &lt;meta charset='utf-8'&gt;
        &lt;!-- Page &amp; Monaco styling --&gt;
        &lt;link href=&quot;styles.css&quot; rel=&quot;stylesheet&quot;/&gt;
        &lt;title&gt;MiniLogo in Langium&lt;/title&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;h1&gt;MiniLogo in Langium&lt;/h1&gt;

        &lt;!-- Use a wrapper to display Monaco + Canvas side-by-side --&gt;
        &lt;div id=&quot;page-wrapper&quot;&gt;
            &lt;!-- Monaco half --&gt;
            &lt;div class=&quot;half&quot;&gt;
                &lt;div class=&quot;wrapper&quot;&gt;
                    &lt;div id=&quot;monaco-editor-root&quot;&gt;&lt;/div&gt;
                &lt;/div&gt;
            &lt;/div&gt;
            &lt;!-- Canvas half --&gt;
            &lt;div class=&quot;half&quot;&gt;
                &lt;canvas id='minilogo-canvas' width=500 height=600&gt;&lt;/canvas&gt;
            &lt;/div&gt;
        &lt;/div&gt;

        &lt;!-- Status message location --&gt;
        &lt;div style=&quot;text-align:center&quot;&gt;
            &lt;span id=&quot;status-msg&quot;&gt;&lt;/span&gt;
        &lt;/div&gt;

        &lt;br/&gt;
        &lt;footer&gt;
            &lt;br/&gt;
            &lt;p style=&quot;font-style:italic&quot;&gt;Powered by&lt;/p&gt;
            &lt;img width=&quot;125&quot; src=&quot;https://langium.org/assets/langium_logo_w_nib.svg&quot; alt=&quot;Langium&quot;&gt;
        &lt;/footer&gt;
        &lt;!-- Monaco Configuration --&gt;
        &lt;script type=&quot;module&quot; src=&quot;minilogo.js&quot;&gt;&lt;/script&gt;
    &lt;/body&gt;
&lt;/html&gt;
</code></pre>
<p>And here&rsquo;s the associated CSS stored in <strong>src/static/styles.css</strong>. This will style Monaco correctly so it renders as expected.</p>
<pre><code class=language-css>html,body {
    background: rgb(33,33,33);
    font-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;
    color: white;
    /* for monaco */
    margin: 0;
    padding: 0;
    width: 100%;
    height: 100%;
}
h1 {
    text-align: center;
}
#minilogo-canvas {
    display: block;
    margin: 8px auto;
    text-align: center;
}
#page-wrapper {
    display: flex;
    max-width: 2000px;
    margin: 4px auto;
    padding: 4px;
    min-height: 75vh;
    justify-content: center;
}
#page-wrapper .half {
    display: flex;
    width: 40vw;
}
.build {
    display: block;
    margin: 8px auto;
    width: 300px;
    height: 30px;
    background: none;
    border: 2px #fff solid;
    color: #fff;
    transition: 0.3s;
    font-size: 1.2rem;
    border-radius: 4px;
}
.build:hover {
    border-color: #6cf;
    color: #6cf;
    cursor: pointer;
}
.build:active {
    color: #fff;
    border-color: #fff;
}
footer {
    text-align: center;
    color: #444;
    font-size: 1.2rem;
    margin-bottom: 16px;
}
@media(max-width: 1000px) {
    #page-wrapper {
        display: block;
    }
    #page-wrapper .half {
        display: block;
        width: auto;
    }
    #minilogo-canvas {
        margin-top: 32px;
    }
    #page-wrapper {
        min-height: auto;
    }
}

/* for monaco */
.wrapper {
    display: flex;
    flex-direction: column;
    height: 100%;
    width: 100%;
}

#monaco-editor-root {
    flex-grow: 1;
}

#status-msg {
    color: red;
}
</code></pre>
<p>Finally, there&rsquo;s the actual Javascript setting up our Monaco instance (stored in <strong>src/static/minilogo.ts</strong>), and for setting up Langium as well. This is the most complex part of setting up Langium + Monaco in the web, so we&rsquo;ll walk through the file in parts.</p>
<p>(<em>Update on Oct. 4th, 2023: Previously we wrote this as <strong>src/static/setup.js</strong>. This new file can be considered the same, but reworked into TypeScript & updated for the new versions of Langium & the MER.</em>)</p>
<p>First, we need to import and setup the worker, as well as some language client wrapper configuration.</p>
<pre><code class=language-ts>import { MonacoEditorLanguageClientWrapper, UserConfig } from &quot;monaco-editor-wrapper/bundle&quot;;
import { buildWorkerDefinition } from &quot;monaco-editor-workers&quot;;
import { addMonacoStyles } from 'monaco-editor-wrapper/styles';

/**
 * Setup Monaco's own workers and also incorporate the necessary styles for the monaco-editor
 */
function setup() {
    buildWorkerDefinition(
        './monaco-editor-workers/workers',
        new URL('', window.location.href).href,
        false
    );
    addMonacoStyles('monaco-editor-styles');
}
</code></pre>
<p>Then, we&rsquo;ll want to instantiate our language client wrapper. In previous versions of the <code>monaco-editor-wrapper</code> package (before 2.0.0), configuration was performed by manually setting properties on the <code>MonacoEditorLanguageClientWrapper</code> instance. However, as of 3.1.0 (at the time of writing this), the constructor for <code>MonacoEditorLanguageClientWrapper</code> now takes a configuration object as its first argument. This configuration object allows us to set the same properties as before, but with more fine-grained control over all the properties that are set.</p>
<p>We&rsquo;re going to walk through the parts that will be used to build up this configuration first, and then joining the actual configuration object together afterwards.</p>
<p>To start, let&rsquo;s keep in mind that our current language id will be <code>minilogo</code>. This should match the id of the language that will be recognized by our language server.</p>
<p>Then, we&rsquo;ll want to add some static syntax highlighting. To do this we have a couple choices, using a TextMate or a <a class=gdoc-markdown__link href=https://microsoft.github.io/monaco-editor/monarch.html>Monarch grammar</a>. Both will provide us with the ability to parse our language, and apply styling to our tokens. However we have to choose one, we cannot use both simultaneously. This is related to how Monaco itself is configured with regards to whether we&rsquo;re using the VSCode API config, or the classic editor config. This makes sense to a degree, as we can only prepare the editor one way or the other.</p>
<p>For MiniLogo, our monarch grammar will look like so:</p>
<pre><code class=language-ts>/**
 * Returns a Monarch grammar definition for MiniLogo
 */
function getMonarchGrammar() {
    return {
        keywords: [
            'color','def','down','for','move','pen','to','up'
        ],
        operators: [
            '-',',','*','/','+','='
        ],
        symbols:  /-|,|\(|\)|\{|\}|\*|\/|\+|=/,
    
        tokenizer: {
            initial: [
                { regex: /#(\d|[a-fA-F]){3,6}/, action: {&quot;token&quot;:&quot;string&quot;} },
                { regex: /[_a-zA-Z][\w_]*/, action: { cases: { '@keywords': {&quot;token&quot;:&quot;keyword&quot;}, '@default': {&quot;token&quot;:&quot;string&quot;} }} },
                { regex: /(?:(?:-?[0-9]+)?\.[0-9]+)|-?[0-9]+/, action: {&quot;token&quot;:&quot;number&quot;} },
                { include: '@whitespace' },
                { regex: /@symbols/, action: { cases: { '@operators': {&quot;token&quot;:&quot;operator&quot;}, '@default': {&quot;token&quot;:&quot;&quot;} }} },
            ],
            whitespace: [
                { regex: /\s+/, action: {&quot;token&quot;:&quot;white&quot;} },
                { regex: /\/\*/, action: {&quot;token&quot;:&quot;comment&quot;,&quot;next&quot;:&quot;@comment&quot;} },
                { regex: /\/\/[^\n\r]*/, action: {&quot;token&quot;:&quot;comment&quot;} },
            ],
            comment: [
                { regex: /[^\/\*]+/, action: {&quot;token&quot;:&quot;comment&quot;} },
                { regex: /\*\//, action: {&quot;token&quot;:&quot;comment&quot;,&quot;next&quot;:&quot;@pop&quot;} },
                { regex: /[\/\*]/, action: {&quot;token&quot;:&quot;comment&quot;} },
            ],
        }
    };
}
</code></pre>
<p>We can produce this Monarch grammar by updating our <strong>langium-config.json</strong> to produce a Monarch file as output. Note that although we&rsquo;re talking about MiniLogo here, we based this example off of the hello-world example produced by the yeoman generator. As such, we still have hello world names here and there, and for this tutorial we&rsquo;ll just use the same name again as for the TextMate grammar.</p>
<pre><code class=language-json>...
&quot;textMate&quot;: {
    &quot;out&quot;: &quot;syntaxes/minilogo.tmLanguage.json&quot;
},
&quot;monarch&quot;: {
    &quot;out&quot;: &quot;syntaxes/minilogo.monarch.ts&quot;
}
</code></pre>
<p>To generate this file, run <code>npm run langium:generate</code>. You can then copy over the definition of the grammar from <strong>syntaxes/hello-world.monarch.ts</strong> (or whatever other name you have given this file). Keep in mind that this generated monarch grammar is <em>very</em> simple. If you want more complex highlighting, we recommend writing your own custom monarch grammar, and storing it somewhere else to prevent it from being overridden. If you&rsquo;re interested, you can find more details about the <a class=gdoc-markdown__link href=https://microsoft.github.io/monaco-editor/monarch.html>Monarch grammar highlighting language here</a>.</p>
<p>Then, we want to setup the code that shows up by default. The following is a fixed MiniLogo program that should display a white diamond in the top left corner of the screen.</p>
<pre><code class=language-ts>/**
 * Retrieves the program code to display, either a default or from local storage
 */
function getMainCode() {
    let mainCode = `
    def test() {
        move(100, 0)
        pen(down)
        move(100, 100)
        move(-100, 100)
        move(-100, -100)
        move(100, -100)
        pen(up)
    }
    color(white)
    test()
    
    `;
    
    // optionally: use local storage to save the code
    // and seek to restore any previous code from our last session
    if (window.localStorage) {
        const storedCode = window.localStorage.getItem('mainCode');
        if (storedCode !== null) {
            mainCode = storedCode;
        }
    }

    return mainCode;
}
</code></pre>
<p>Since we&rsquo;re planning to use a language server with Monaco, we&rsquo;ll need to setup a language client config too. To do this we&rsquo;ll also need to generate a worker using our language server worker file, but that&rsquo;s fairly straightforward to setup here. Keep in mind that you&rsquo;ll need to have access to the bundle produced from your <strong>main-browser.ts</strong> from before. Here the built result is copied over as <strong>public/minilogo-server-worker.js</strong>.</p>
<pre><code class=language-ts>/**
 * Creates &amp; returns a fresh worker using the MiniLogo language server
 */
function getWorker() {
    const workerURL = new URL('minilogo-server-worker.js', window.location.href);
    return new Worker(workerURL.href, {
        type: 'module',
        name: 'MiniLogoLS'
    });
}
</code></pre>
<p>By creating the worker in advance, we give ourselves the ability to directly interact with the worker/LS independent of the wrapper itself, and to even pre-configure it before use. This can be hugely beneficial, especially if we expect to customize our LS on the fly.</p>
<p>Lastly, let&rsquo;s setup the user config, which will be used to startup the wrapper.</p>
<pre><code class=language-ts>type WorkerUrl = string;

/**
 * Classic configuration for the monaco editor (for use with a Monarch grammar)
 */
interface ClassicConfig {
    code: string,
    htmlElement: HTMLElement,
    languageId: string,
    worker: WorkerUrl | Worker,
    monarchGrammar: any;
}

/**
 * Generates a valid UserConfig for a given Langium example
 * 
 * @param config An extended or classic editor config to generate a UserConfig from
 * @returns A completed UserConfig
 */
function createUserConfig(config: ClassicConfig): UserConfig {
    // setup urls for config &amp; grammar
    const id = config.languageId;

    // generate langium config
    return {
        htmlElement: config.htmlElement,
        wrapperConfig: {
            editorAppConfig: {
                $type: 'classic',
                languageId: id,
                useDiffEditor: false,
                code: config.code,
                theme: 'vs-dark',
                languageDef: config.monarchGrammar
            },
            serviceConfig: {
                enableModelService: true,
                configureConfigurationService: {
                    defaultWorkspaceUri: '/tmp/'
                },
                enableKeybindingsService: true,
                enableLanguagesService: true,
                debugLogging: false
            }
        },
        languageClientConfig: {
            options: {
                $type: 'WorkerDirect',
                worker: config.worker as Worker,
                name: `${id}-language-server-worker`
            }
        }
    };
}
</code></pre>
<p>This particular UserConfig will be for configuring a classic editor, rather than a VSCode extension-based editor. This is because we&rsquo;re using a Monarch grammar, which is not supported by the extension configuration. However, if we wanted to use a TextMate grammar, we could use the extension based configuration instead.</p>
<pre><code class=language-json>editorAppConfig: {
    $type: 'vscodeApi',
    languageId: id,
    useDiffEditor: false,
    code: config.code,
    ...
}
</code></pre>
<p>You would just need to fill in the rest of the details for associating a TextMate grammar & such. <a class=gdoc-markdown__link href=https://github.com/TypeFox/monaco-components/blob/4f301445eca943b9775166704304637cf5e8bd00/packages/examples/src/langium/config/wrapperLangiumVscode.ts#L37>Here&rsquo;s an example from the monaco-components repo</a>.</p>
<p>Regardless of how the user config is setup, we can now invoke that helper function with a handful of configuration details, and have a working UserConfig to pass to the wrapper.</p>
<pre><code class=language-ts>// create a wrapper instance
const wrapper = new MonacoEditorLanguageClientWrapper();

// start up with a user config
await wrapper.start(createUserConfig({
    htmlElement: document.getElementById(&quot;monaco-editor-root&quot;)!,
    languageId: 'minilogo',
    code: getMainCode(),
    worker: getWorker(),
    monarchGrammar: getMonarchGrammar()
}));
</code></pre>
<p>That&rsquo;s it! Now if everything was configured correctly, we should have a valid wrapper that will display the code we want in our browser.</p>
<div class=gdoc-page__anchorwrap>
<h2 id=serving-via-nodejs>
Serving via NodeJS
<a data-clipboard-text=/tutorials/langium_and_monaco/#serving-via-nodejs class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor Serving via NodeJS" href=#serving-via-nodejs><svg class="icon gdoc_link"><use xlink:href="#gdoc_link"/></svg>
</a>
</h2>
</div><p>Now that we have our files all setup, and our build process prepared, we can put together a mini server application to make viewing our public assets easy. We&rsquo;ll do this by adding <strong>src/web/app.ts</strong> to our project, and giving it the following contents:</p>
<pre><code class=language-ts>/**
 * Simple server app for serving generated examples locally
 * Based on: https://developer.mozilla.org/en-US/docs/Learn/Server-side/Node_server_without_framework
 */
import * as fs from &quot;node:fs&quot;;
import * as http from &quot;node:http&quot;;
import * as path from &quot;node:path&quot;;

const port = 3000;

const MIME_TYPES: Record&lt;string,string&gt; = {
  default: &quot;application/octet-stream&quot;,
  html: &quot;text/html; charset=UTF-8&quot;,
  js: &quot;application/javascript&quot;,
  css: &quot;text/css&quot;,
};

const STATIC_PATH = path.join(process.cwd(), &quot;./public&quot;);

const toBool = [() =&gt; true, () =&gt; false];

const prepareFile = async (url: string) =&gt; {
  const paths = [STATIC_PATH, url];
  if (url.endsWith(&quot;/&quot;)) {
    paths.push(&quot;index.html&quot;);
  }
  const filePath = path.join(...paths);
  const pathTraversal = !filePath.startsWith(STATIC_PATH);
  const exists = await fs.promises.access(filePath).then(...toBool);
  const found = !pathTraversal &amp;&amp; exists;
  // there's no 404, just redirect to index.html in all other cases
  const streamPath = found ? filePath : STATIC_PATH + &quot;/index.html&quot;;
  const ext = path.extname(streamPath).substring(1).toLowerCase();
  const stream = fs.createReadStream(streamPath);
  return { found, ext, stream };
};

http
  .createServer(async (req, res) =&gt; {
    const file = await prepareFile(req.url!);
    const statusCode = file.found ? 200 : 404;
    const mimeType: string = MIME_TYPES[file.ext] || MIME_TYPES.default;
    res.writeHead(statusCode, { &quot;Content-Type&quot;: mimeType });
    file.stream.pipe(res);
    console.log(`${req.method} ${req.url} ${statusCode}`);
  })
  .listen(port);

console.log(`Server for MiniLogo assets listening on http://localhost:${port}`);
</code></pre>
<p>If you would like to compact this, and don&rsquo;t mind adding additional deps to your project, you can include <code>express</code> and <code>@types/express</code> to your project, and use the following code instead:</p>
<pre><code class=language-ts>/**
 * Simple express app for serving generated examples
 */

import express from 'express';
const app = express();
const port = 3000;
app.use(express.static('./public'));
app.listen(port, () =&gt; {
console.log(`Server for MiniLogo assets listening on http://localhost:${port}`);
});
</code></pre>
<p>And to invoke the server, we need to add one more script to our package.json.</p>
<pre><code class=language-json>{
    ...
    &quot;serve&quot;: &quot;node ./out/web/app.js&quot;
}
</code></pre>
<p>That&rsquo;s it! Now we can build all the assets, and run express to be able to view our demo of Langium in the web from <strong>localhost:3000</strong>.</p>
<pre><code class=language-bash>npm run build:web
npm run serve
</code></pre>
<p>You should be greeted with a page that contains a working Monaco instance and a small MiniLogo program in the editor. This editor has the highlighting we would expect, and also is fully connected to the language server for our language. This means we have full LSP support for operations that we would expect to have in a native IDE, such as VSCode.</p>
<p>And that&rsquo;s it, we have successfully implemented Langium + Monaco in the web for our language. It&rsquo;s not doing much at this time besides presenting us with an editor, but in the next tutorial we&rsquo;ll talk about <a class=gdoc-markdown__link href=../../tutorials/generation_in_the_web>using the same setup to add generation in the web</a>. Since our generation has already been configured natively in prior tutorials, we can use what we&rsquo;ve written to quickly implement a web application that translates MiniLogo programs into drawing instructions for an HTML5 canvas.</p>
</article>
<div class="gdoc-page__footer flex flex-wrap justify-between">
</div>
</div>
</main>
<footer class=gdoc-footer>
<div class="container flex">
<div class="flex flex-wrap">
<span class="gdoc-footer__item gdoc-footer__item--row">
Built by <a href=http://typefox.io>TypeFox</a> with <a href=https://gohugo.io/ class=gdoc-footer__link>Hugo</a> and<svg class="icon gdoc_heart" style="color:red"><use xlink:href="#gdoc_heart"/></svg>
</span>
</div>
<div class="flex flex-25 justify-end">
<span class=gdoc-footer__item>
<a class="gdoc-footer__link fake-link" href=# aria-label="Back to top"><svg class="icon gdoc_keyborad_arrow_up"><use xlink:href="#gdoc_keyborad_arrow_up"/></svg> <span class=hidden-mobile>Back to top</span>
</a>
</span>
</div>
</div>
</footer>
</div>
<script defer src=../../js/en.search.min.971ccaa1bd805a9cd5c7d7152271e90fee332641122387bf7e018f38d29bae5e.js></script>
<script defer src=../../js/clipboard-27784b7376.min.js></script>
<script defer src=../../js/clipboard-loader-832dc83c27.min.js></script>
<script defer src=../../js/copycode-fd03c0d24f.min.js></script>
</body>
</html>