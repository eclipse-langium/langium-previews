<!doctype html><html lang=en class=color-toggle-hidden>
<head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<meta name=color-scheme content="light dark">
<meta name=description content="The grammar language describes the syntax and structure of your language. The Langium grammar language is implemented using Langium itself and therefore follows the same syntactic rules as any language created with Langium. The grammar language will define the structure of the abstract syntax tree (AST) which in Langium is a collection of TypeScript types describing the content of a parsed document and organized hierarchically. The individual nodes of the tree are then represented with JavaScript objects at runtime.">
<title>The Grammar Language | Langium</title>
<link rel=icon type=image/svg+xml href=../../assets/nib.svg>
<link rel=icon type=image/png sizes=32x32 href=../../favicon/32px.png>
<link rel=icon type=image/png sizes=16x16 href=../../favicon/16px.png>
<meta property="og:title" content="The Grammar Language">
<meta property="og:description" content="The grammar language describes the syntax and structure of your language. The Langium grammar language is implemented using Langium itself and therefore follows the same syntactic rules as any language created with Langium. The grammar language will define the structure of the abstract syntax tree (AST) which in Langium is a collection of TypeScript types describing the content of a parsed document and organized hierarchically. The individual nodes of the tree are then represented with JavaScript objects at runtime.">
<meta property="og:type" content="article">
<meta property="og:url" content="/docs/grammar-language/"><meta property="article:section" content="docs">
<meta property="article:modified_time" content="2024-03-26T12:32:37+01:00">
<meta name=twitter:card content="summary">
<meta name=twitter:title content="The Grammar Language">
<meta name=twitter:description content="The grammar language describes the syntax and structure of your language. The Langium grammar language is implemented using Langium itself and therefore follows the same syntactic rules as any language created with Langium. The grammar language will define the structure of the abstract syntax tree (AST) which in Langium is a collection of TypeScript types describing the content of a parsed document and organized hierarchically. The individual nodes of the tree are then represented with JavaScript objects at runtime.">
<script src=../../js/darkmode-ce906ea916.min.js></script>
<link rel=preload as=font href=../../fonts/Metropolis.woff2 type=font/woff2 crossorigin=anonymous>
<link rel=preload as=font href=../../fonts/LiberationSans.woff2 type=font/woff2 crossorigin=anonymous>
<link rel=preload href=../../main-61795ecfac.min.css as=style>
<link rel=stylesheet href=../../main-61795ecfac.min.css media=all>
<link rel=preload href=../../mobile-e214817c8f.min.css as=style>
<link rel=stylesheet href=../../mobile-e214817c8f.min.css media="screen and (max-width: 45rem)">
<link rel=preload href=../../print-f79fc3e5d7.min.css as=style>
<link rel=stylesheet href=../../print-f79fc3e5d7.min.css media=print>
<link rel=preload href=../../custom.css as=style>
<link rel=stylesheet href=../../custom.css media=all>
<link rel=stylesheet href=../../prism/prism.css>
<script src=../../prism/prism.js></script>
<script src=../../prism/langium-prism.js></script>
<script type=application/ld+json>{"@context":"http://schema.org","@type":"TechArticle","articleSection":"docs","name":"The Grammar Language","headline":"The Grammar Language","alternativeHeadline":"","description":"The grammar language describes the syntax and structure of your language. The Langium grammar language is implemented using Langium itself and therefore follows the same syntactic rules as any language created with Langium. The grammar language will define the structure of the abstract syntax tree (AST) which in Langium is a collection of TypeScript types describing the content of a parsed document and organized hierarchically. The individual nodes of the tree are then represented with JavaScript objects at runtime.","inLanguage":"en","isFamilyFriendly":"true","mainEntityOfPage":{"@type":"WebPage","@id":"\/docs\/grammar-language\/"},"copyrightHolder":"Langium","copyrightYear":"0001","dateCreated":"0001-01-01T00:00:00.00Z","datePublished":"0001-01-01T00:00:00.00Z","dateModified":"2024-03-26T12:32:37.00Z","publisher":{"@type":"Organization","name":"Langium","url":"/","logo":{"@type":"ImageObject","url":"\/brand.svg","width":"32","height":"32"}},"url":"\/docs\/grammar-language\/","wordCount":"3583","genre":[]}</script>
</head>
<body itemscope itemtype=https://schema.org/WebPage><svg class="svg-sprite" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><symbol viewBox="-2.29 -2.29 28.57 28.57" id="gdoc_arrow_back" xmlns="http://www.w3.org/2000/svg"><path d="M24 10.526v2.947H5.755l8.351 8.421-2.105 2.105-12-12 12-12 2.105 2.105-8.351 8.421H24z"/></symbol><symbol viewBox="-2.29 -2.29 28.57 28.57" id="gdoc_arrow_left_alt" xmlns="http://www.w3.org/2000/svg"><path d="M5.965 10.526V6.035L0 12l5.965 5.965v-4.491H24v-2.947H5.965z"/></symbol><symbol viewBox="-2.29 -2.29 28.57 28.57" id="gdoc_arrow_right_alt" xmlns="http://www.w3.org/2000/svg"><path d="M18.035 10.526V6.035L24 12l-5.965 5.965v-4.491H0v-2.947h18.035z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_bitbucket" xmlns="http://www.w3.org/2000/svg"><path d="M15.905 13.355c.189 1.444-1.564 2.578-2.784 1.839-1.375-.602-1.375-2.784-.034-3.403 1.151-.705 2.818.223 2.818 1.564zm1.907-.361c-.309-2.44-3.076-4.056-5.328-3.042-1.426.636-2.389 2.148-2.32 3.747.086 2.097 2.08 3.815 4.176 3.626s3.729-2.234 3.472-4.331zm4.108-9.315c-.756-.997-2.045-1.169-3.179-1.358-3.214-.516-6.513-.533-9.727.034-1.066.172-2.269.361-2.939 1.323 1.1 1.031 2.664 1.186 4.073 1.358 2.544.327 5.156.344 7.699.017 1.426-.172 3.008-.309 4.073-1.375zm.979 17.788c-.481 1.684-.206 3.953-1.994 4.932-3.076 1.701-6.806 1.89-10.191 1.289-1.787-.327-3.884-.894-4.864-2.578-.43-1.65-.705-3.334-.98-5.018l.103-.275.309-.155c5.121 3.386 12.288 3.386 17.427.0.808.241.206 1.22.189 1.805zM26.01 4.951c-.584 3.764-1.255 7.51-1.908 11.257-.189 1.1-1.255 1.719-2.148 2.183-3.214 1.615-6.96 1.89-10.483 1.512-2.389-.258-4.829-.894-6.771-2.389-.911-.705-.911-1.908-1.083-2.922-.602-3.523-1.289-7.046-1.719-10.604.206-1.547 1.942-2.217 3.231-2.698C6.848.654 8.686.362 10.508.19c3.884-.378 7.854-.241 11.618.859 1.341.395 2.784.945 3.695 2.097.412.533.275 1.203.189 1.805z"/></symbol><symbol viewBox="-2.29 -2.29 28.57 28.57" id="gdoc_bookmark" xmlns="http://www.w3.org/2000/svg"><path d="M15.268 4.392q.868.0 1.532.638t.664 1.506v17.463l-7.659-3.268-7.608 3.268V6.536q0-.868.664-1.506t1.532-.638h10.876zm4.34 14.144V4.392q0-.868-.638-1.532t-1.506-.664H6.537q0-.868.664-1.532T8.733.0h10.876q.868.0 1.532.664t.664 1.532v17.412z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_brightness_auto" xmlns="http://www.w3.org/2000/svg"><path d="M16.846 18.938h2.382L15.22 7.785h-2.44L8.772 18.938h2.382l.871-2.44h3.95zm7.087-9.062L27.999 14l-4.066 4.124v5.809h-5.809L14 27.999l-4.124-4.066H4.067v-5.809L.001 14l4.066-4.124V4.067h5.809L14 .001l4.124 4.066h5.809v5.809zm-11.385 4.937L14 10.282l1.452 4.531h-2.904z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_brightness_dark" xmlns="http://www.w3.org/2000/svg"><path d="M14 21.435q3.079.0 5.257-2.178T21.435 14t-2.178-5.257T14 6.565q-1.51.0-3.079.697 1.917.871 3.108 2.701T15.22 14t-1.191 4.037-3.108 2.701q1.568.697 3.079.697zm9.933-11.559L27.999 14l-4.066 4.124v5.809h-5.809L14 27.999l-4.124-4.066H4.067v-5.809L.001 14l4.066-4.124V4.067h5.809L14 .001l4.124 4.066h5.809v5.809z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_brightness_light" xmlns="http://www.w3.org/2000/svg"><path d="M14 21.435q3.079.0 5.257-2.178T21.435 14t-2.178-5.257T14 6.565 8.743 8.743 6.565 14t2.178 5.257T14 21.435zm9.933-3.311v5.809h-5.809L14 27.999l-4.124-4.066H4.067v-5.809L.001 14l4.066-4.124V4.067h5.809L14 .001l4.124 4.066h5.809v5.809L27.999 14z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_check" xmlns="http://www.w3.org/2000/svg"><path d="M8.885 20.197 25.759 3.323l2.24 2.24L8.885 24.677.0 15.792l2.24-2.24z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_cloud_off" xmlns="http://www.w3.org/2000/svg"><path d="M9.023 10.5H7q-1.914.0-3.281 1.395t-1.367 3.309 1.367 3.281T7 19.852h11.375zM3.5 4.976l1.477-1.477L24.5 23.022l-1.477 1.477-2.352-2.297H6.999q-2.898.0-4.949-2.051t-2.051-4.949q0-2.844 1.969-4.867t4.758-2.133zm19.086 5.578q2.242.164 3.828 1.832T28 16.351q0 3.008-2.461 4.758l-1.695-1.695q1.805-.984 1.805-3.063.0-1.422-1.039-2.461t-2.461-1.039h-1.75v-.602q0-2.68-1.859-4.539t-4.539-1.859q-1.531.0-2.953.711l-1.75-1.695Q11.431 3.5 14.001 3.5q2.953.0 5.496 2.078t3.09 4.977z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_code" xmlns="http://www.w3.org/2000/svg"><path d="M9.917 24.5a1.75 1.75.0 10-3.501.001 1.75 1.75.0 003.501-.001zm0-21a1.75 1.75.0 10-3.501.001A1.75 1.75.0 009.917 3.5zm11.666 2.333a1.75 1.75.0 10-3.501.001 1.75 1.75.0 003.501-.001zm1.75.0a3.502 3.502.0 01-1.75 3.026c-.055 6.581-4.721 8.039-7.82 9.023-2.898.911-3.846 1.349-3.846 3.117v.474a3.502 3.502.0 011.75 3.026c0 1.932-1.568 3.5-3.5 3.5s-3.5-1.568-3.5-3.5c0-1.294.711-2.424 1.75-3.026V6.526A3.502 3.502.0 014.667 3.5c0-1.932 1.568-3.5 3.5-3.5s3.5 1.568 3.5 3.5a3.502 3.502.0 01-1.75 3.026v9.06c.93-.456 1.914-.766 2.807-1.039 3.391-1.075 5.323-1.878 5.359-5.687a3.502 3.502.0 01-1.75-3.026c0-1.932 1.568-3.5 3.5-3.5s3.5 1.568 3.5 3.5z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_copy" xmlns="http://www.w3.org/2000/svg"><path d="M23.502 25.438V7.626H9.562v17.812h13.94zm0-20.315q1.013.0 1.787.745t.774 1.757v17.812q0 1.013-.774 1.787t-1.787.774H9.562q-1.013.0-1.787-.774t-.774-1.787V7.625q0-1.013.774-1.757t1.787-.745h13.94zM19.689.0v2.562H4.438v17.812H1.936V2.562q0-1.013.745-1.787T4.438.001h15.251z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_date" xmlns="http://www.w3.org/2000/svg"><path d="M27.192 28.844V11.192H4.808v17.652h22.384zm0-25.689q1.277.0 2.253.976t.976 2.253v22.459q0 1.277-.976 2.216t-2.253.939H4.808q-1.352.0-2.291-.901t-.939-2.253V6.385q0-1.277.939-2.253t2.291-.976h1.577V.001h3.23v3.155h12.769V.001h3.23v3.155h1.577zm-3.155 11.267v3.155h-3.23v-3.155h3.23zm-6.46.0v3.155h-3.155v-3.155h3.155zm-6.384.0v3.155h-3.23v-3.155h3.23z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_download" xmlns="http://www.w3.org/2000/svg"><path d="M2.866 28.209h26.269v3.79H2.866v-3.79zm26.268-16.925L16 24.418 2.866 11.284h7.493V.001h11.283v11.283h7.493z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_email" xmlns="http://www.w3.org/2000/svg"><path d="M28.845 9.615v-3.23L16 14.422 3.155 6.385v3.23L16 17.577zm0-6.46q1.277.0 2.216.977T32 6.385v19.23q0 1.277-.939 2.253t-2.216.977H3.155q-1.277.0-2.216-.977T0 25.615V6.385q0-1.277.939-2.253t2.216-.977h25.69z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_git" xmlns="http://www.w3.org/2000/svg"><path d="M27.472 12.753 15.247.529a1.803 1.803.0 00-2.55.0l-2.84 2.84 2.137 2.137a2.625 2.625.0 013.501 3.501l3.499 3.499a2.625 2.625.0 11-1.237 1.237l-3.499-3.499c-.083.04-.169.075-.257.106v7.3a2.626 2.626.0 11-1.75.0v-7.3a2.626 2.626.0 01-1.494-3.607L8.62 4.606l-8.09 8.09a1.805 1.805.0 000 2.551l12.225 12.224a1.803 1.803.0 002.55.0l12.168-12.168a1.805 1.805.0 000-2.551z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_github" xmlns="http://www.w3.org/2000/svg"><path d="M16 .394c8.833.0 15.999 7.166 15.999 15.999.0 7.062-4.583 13.062-10.937 15.187-.813.146-1.104-.354-1.104-.771.0-.521.021-2.25.021-4.396.0-1.5-.5-2.458-1.083-2.958 3.562-.396 7.312-1.75 7.312-7.896.0-1.75-.625-3.167-1.646-4.291.167-.417.708-2.042-.167-4.25-1.333-.417-4.396 1.646-4.396 1.646a15.032 15.032.0 00-8 0S8.937 6.602 7.603 7.018c-.875 2.208-.333 3.833-.167 4.25-1.021 1.125-1.646 2.542-1.646 4.291.0 6.125 3.729 7.5 7.291 7.896-.458.417-.875 1.125-1.021 2.146-.917.417-3.25 1.125-4.646-1.333-.875-1.521-2.458-1.646-2.458-1.646-1.562-.021-.104.979-.104.979 1.042.479 1.771 2.333 1.771 2.333.938 2.854 5.396 1.896 5.396 1.896.0 1.333.021 2.583.021 2.979.0.417-.292.917-1.104.771C4.582 29.455-.001 23.455-.001 16.393-.001 7.56 7.165.394 15.998.394zM6.063 23.372c.042-.083-.021-.187-.146-.25-.125-.042-.229-.021-.271.042-.042.083.021.187.146.25.104.062.229.042.271-.042zm.646.709c.083-.062.062-.208-.042-.333-.104-.104-.25-.146-.333-.062-.083.062-.062.208.042.333.104.104.25.146.333.062zm.625.937c.104-.083.104-.25.0-.396-.083-.146-.25-.208-.354-.125-.104.062-.104.229.0.375s.271.208.354.146zm.875.875c.083-.083.042-.271-.083-.396-.146-.146-.333-.167-.417-.062-.104.083-.062.271.083.396.146.146.333.167.417.062zm1.187.521c.042-.125-.083-.271-.271-.333-.167-.042-.354.021-.396.146s.083.271.271.312c.167.062.354.0.396-.125zm1.313.104c0-.146-.167-.25-.354-.229-.187.0-.333.104-.333.229.0.146.146.25.354.229.187.0.333-.104.333-.229zm1.208-.208c-.021-.125-.187-.208-.375-.187-.187.042-.312.167-.292.312.021.125.187.208.375.167s.312-.167.292-.292z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_gitlab" xmlns="http://www.w3.org/2000/svg"><path d="M1.629 11.034 14 26.888.442 17.048a1.09 1.09.0 01-.39-1.203l1.578-4.811zm7.217.0h10.309l-5.154 15.854zM5.753 1.475l3.093 9.559H1.63l3.093-9.559a.548.548.0 011.031.0zm20.618 9.559 1.578 4.811c.141.437-.016.922-.39 1.203l-13.558 9.84 12.371-15.854zm0 0h-7.216l3.093-9.559a.548.548.0 011.031.0z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_heart" xmlns="http://www.w3.org/2000/svg"><path d="M16 29.714a1.11 1.11.0 01-.786-.321L4.072 18.643c-.143-.125-4.071-3.714-4.071-8 0-5.232 3.196-8.357 8.535-8.357 3.125.0 6.053 2.464 7.464 3.857 1.411-1.393 4.339-3.857 7.464-3.857 5.339.0 8.535 3.125 8.535 8.357.0 4.286-3.928 7.875-4.089 8.035L16.785 29.392c-.214.214-.5.321-.786.321z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_home" xmlns="http://www.w3.org/2000/svg"><path d="M24.003 15.695v8.336c0 .608-.504 1.111-1.111 1.111h-6.669v-6.669h-4.446v6.669H5.108a1.119 1.119.0 01-1.111-1.111v-8.336c0-.035.017-.069.017-.104L14 7.359l9.986 8.232a.224.224.0 01.017.104zm3.873-1.198-1.077 1.285a.578.578.0 01-.365.191h-.052a.547.547.0 01-.365-.122L14 5.831 1.983 15.851a.594.594.0 01-.417.122.578.578.0 01-.365-.191L.124 14.497a.57.57.0 01.069-.781L12.679 3.314c.729-.608 1.91-.608 2.64.0l4.237 3.543V3.471c0-.313.243-.556.556-.556h3.334c.313.0.556.243.556.556v7.085l3.803 3.161c.226.191.26.556.069.781z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_keyborad_arrow_down" xmlns="http://www.w3.org/2000/svg"><path d="M3.281 5.36 14 16.079 24.719 5.36 28 8.641l-14 14-14-14z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_keyborad_arrow_left" xmlns="http://www.w3.org/2000/svg"><path d="M25.875 28.25 22.125 32 6.126 16.001 22.125.002l3.75 3.75-12.25 12.25z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_keyborad_arrow_right" xmlns="http://www.w3.org/2000/svg"><path d="M6.125 28.25 18.375 16 6.125 3.75 9.875.0l15.999 15.999L9.875 31.998z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_keyborad_arrow_up" xmlns="http://www.w3.org/2000/svg"><path d="M24.719 22.64 14 11.921 3.281 22.64.0 19.359l14-14 14 14z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_link" xmlns="http://www.w3.org/2000/svg"><path d="M24.037 7.963q3.305.0 5.634 2.366T32 16t-2.329 5.671-5.634 2.366h-6.46v-3.08h6.46q2.028.0 3.493-1.465t1.465-3.493-1.465-3.493-3.493-1.465h-6.46v-3.08h6.46zM9.615 17.578v-3.155h12.77v3.155H9.615zM3.005 16q0 2.028 1.465 3.493t3.493 1.465h6.46v3.08h-6.46q-3.305.0-5.634-2.366T0 16.001t2.329-5.671 5.634-2.366h6.46v3.08h-6.46q-2.028.0-3.493 1.465t-1.465 3.493z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_menu" xmlns="http://www.w3.org/2000/svg"><path d="M.001 5.334h31.998v3.583H.001V5.334zm0 12.416v-3.5h31.998v3.5H.001zm0 8.916v-3.583h31.998v3.583H.001z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_notification" xmlns="http://www.w3.org/2000/svg"><path d="M22.615 19.384l2.894 2.894v1.413H2.49v-1.413l2.894-2.894V12.25q0-3.365 1.716-5.856t4.745-3.231v-1.01q0-.875.606-1.514T13.999.0t1.548.639.606 1.514v1.01q3.029.74 4.745 3.231t1.716 5.856v7.134zM14 27.999q-1.211.0-2.053-.808t-.841-2.019h5.788q0 1.144-.875 1.986T14 27.999z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_path" xmlns="http://www.w3.org/2000/svg"><path d="M28 12.62h-9.793V8.414h-2.826v11.173h2.826v-4.206H28V26.62h-9.793v-4.206H12.62v-14H9.794v4.206H.001V1.381h9.793v4.206h8.413V1.381H28V12.62z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_person" xmlns="http://www.w3.org/2000/svg"><path d="M16 20.023q5.052.0 10.526 2.199t5.473 5.754v4.023H0v-4.023q0-3.555 5.473-5.754t10.526-2.199zM16 16q-3.275.0-5.614-2.339T8.047 8.047t2.339-5.661T16 0t5.614 2.386 2.339 5.661-2.339 5.614T16 16z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_search" xmlns="http://www.w3.org/2000/svg"><path d="M11.925 20.161q3.432.0 5.834-2.402t2.402-5.834-2.402-5.834-5.834-2.402-5.834 2.402-2.402 5.834 2.402 5.834 5.834 2.402zm10.981.0L32 29.255 29.255 32l-9.094-9.094v-1.458l-.515-.515q-3.26 2.831-7.721 2.831-4.976.0-8.45-3.432T.001 11.925t3.474-8.45 8.45-3.474 8.407 3.474 3.432 8.45q0 1.802-.858 4.075t-1.973 3.646l.515.515h1.458z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_shield" xmlns="http://www.w3.org/2000/svg"><path d="M22.167 15.166V3.5h-8.166v20.726c.93-.492 2.424-1.349 3.883-2.497 1.95-1.531 4.284-3.919 4.284-6.562zm3.499-13.999v14c0 7.674-10.737 12.523-11.192 12.724-.146.073-.31.109-.474.109s-.328-.036-.474-.109c-.456-.201-11.192-5.049-11.192-12.724v-14C2.334.529 2.863.0 3.501.0H24.5c.638.0 1.167.529 1.167 1.167z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_tags" xmlns="http://www.w3.org/2000/svg"><path d="M6.606 7.549c0-1.047-.84-1.887-1.887-1.887s-1.887.84-1.887 1.887.84 1.887 1.887 1.887 1.887-.84 1.887-1.887zm15.732 8.493c0 .501-.206.988-.546 1.327l-7.239 7.254c-.354.339-.84.546-1.342.546s-.988-.206-1.327-.546L1.342 14.066C.59 13.329.0 11.899.0 10.852V4.718a1.9 1.9.0 011.887-1.887h6.134c1.047.0 2.477.59 3.229 1.342L21.792 14.7c.339.354.546.84.546 1.342zm5.661.0c0 .501-.206.988-.546 1.327l-7.239 7.254c-.354.339-.84.546-1.342.546-.767.0-1.15-.354-1.651-.87l6.93-6.93c.339-.339.546-.826.546-1.327s-.206-.988-.546-1.342L13.609 4.173c-.752-.752-2.182-1.342-3.229-1.342h3.303c1.047.0 2.477.59 3.229 1.342L27.454 14.7c.339.354.546.84.546 1.342z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_timer" xmlns="http://www.w3.org/2000/svg"><path d="M16 29q4.428.0 7.536-3.143t3.107-7.571-3.107-7.536T16 7.643 8.464 10.75t-3.107 7.536 3.107 7.571T16 29zM26.714 9.786q1.214 1.571 2.107 4.036t.893 4.464q0 5.643-4 9.678T16 32t-9.714-4.036-4-9.678 4-9.678T16 4.572q1.929.0 4.464.929t4.107 2.143l2.143-2.214q1.143.929 2.143 2.143zM14.5 19.857v-9.143h3v9.143h-3zM20.571.001v3.071h-9.143V.001h9.143z"/></symbol></svg>
<div class=wrapper>
<input type=checkbox class=hidden id=menu-control>
<input type=checkbox class=hidden id=menu-header-control>
<header class=gdoc-header>
<div class="container flex align-center justify-between">
<label for=menu-control class=gdoc-nav__control><svg class="icon gdoc_menu"><title>Open Nav Menu</title><use xlink:href="#gdoc_menu"/></svg><svg class="icon gdoc_arrow_back"><title>Close Nav Menu</title><use xlink:href="#gdoc_arrow_back"/></svg>
</label>
<a class=gdoc-header__link href=../../>
<span class="gdoc-brand flex align-center">
<img class=gdoc-brand__img style=width:10rem;height:2rem src=../../assets/langium_logo_w_nib.svg alt>
</span>
</a>
<div class=gdoc-menu-header>
<span class=gdoc-menu-header__items>
<span>
<a href=https://github.com/eclipse-langium/langium class=gdoc-header__link><svg class="icon gdoc_github"><title>GitHub</title><use xlink:href="#gdoc_github"/></svg>
</a>
</span>
<span id=gdoc-dark-mode><svg class="icon gdoc_brightness_dark"><title>Toggle Dark/Light/Auto mode</title><use xlink:href="#gdoc_brightness_dark"/></svg><svg class="icon gdoc_brightness_light"><title>Toggle Dark/Light/Auto mode</title><use xlink:href="#gdoc_brightness_light"/></svg><svg class="icon gdoc_brightness_auto"><title>Toggle Dark/Light/Auto mode</title><use xlink:href="#gdoc_brightness_auto"/></svg>
</span>
<span class=gdoc-menu-header__home>
<a href=../../ class=gdoc-header__link><svg class="icon gdoc_home"><title>Back to homepage</title><use xlink:href="#gdoc_home"/></svg>
</a>
</span>
<span class=gdoc-menu-header__control>
<label for=menu-header-control><svg class="icon gdoc_keyborad_arrow_right"><use xlink:href="#gdoc_keyborad_arrow_right"/><title>Close Menu Bar</title></svg>
</label>
</span>
</span>
<label for=menu-header-control class=gdoc-menu-header__control><svg class="icon gdoc_keyborad_arrow_left"><use xlink:href="#gdoc_keyborad_arrow_left"/><title>Open Menu Bar</title></svg>
</label>
</div>
</div>
</header>
<main class="container flex flex-even">
<aside class=gdoc-nav>
<nav>
<div class=gdoc-search><svg class="icon gdoc_search"><use xlink:href="#gdoc_search"/></svg>
<input type=text id=gdoc-search-input class=gdoc-search__input placeholder=Search... aria-label=Search maxlength=64>
<div class="gdoc-search__spinner spinner hidden"></div>
<ul id=gdoc-search-results class=gdoc-search__list></ul>
</div>
<section class=gdoc-nav--main>
<h2>Navigation</h2>
<ul class=gdoc-nav__list>
<li>
<span class=flex>
<a href=../../playground/ class=gdoc-nav__entry>
Playground
</a>
</span>
</li>
<li>
<span class=flex>
<a href=../../docs/ class=gdoc-nav__entry>
Documentation
</a>
</span>
<ul class=gdoc-nav__list>
<li>
<span class=flex>
<a href=../../docs/langium-overview/ class=gdoc-nav__entry>
Langium Overview
</a>
</span>
</li>
<li>
<span class=flex>
<a href=../../docs/getting-started/ class=gdoc-nav__entry>
Getting Started
</a>
</span>
</li>
<li>
<span class=flex>
<a href=../../docs/grammar-language/ class="gdoc-nav__entry is-active">
The Grammar Language
</a>
</span>
</li>
<li>
<span class=flex>
<a href=../../docs/sematic-model/ class=gdoc-nav__entry>
Semantic Model Inference
</a>
</span>
</li>
<li>
<span class=flex>
<a href=../../docs/configuration-services/ class=gdoc-nav__entry>
Configuration via Services
</a>
</span>
</li>
<li>
<span class=flex>
<a href=../../docs/document-lifecycle/ class=gdoc-nav__entry>
Document Lifecycle
</a>
</span>
</li>
</ul>
</li>
<li>
<span class=flex>
<a href=../../guides/ class=gdoc-nav__entry>
Guides
</a>
</span>
<ul class=gdoc-nav__list>
<li>
<span class=flex>
<a href=../../guides/code-bundling/ class=gdoc-nav__entry>
Code Bundling
</a>
</span>
</li>
<li>
<span class=flex>
<a href=../../guides/scoping/ class=gdoc-nav__entry>
Scoping
</a>
</span>
<ul class=gdoc-nav__list>
<li>
<span class=flex>
<a href=../../guides/scoping/qualified-name/ class=gdoc-nav__entry>
Qualified Name Scoping
</a>
</span>
</li>
<li>
<span class=flex>
<a href=../../guides/scoping/class-member/ class=gdoc-nav__entry>
Class Member Scoping
</a>
</span>
</li>
</ul>
</li>
<li>
<span class=flex>
<a href=../../guides/builtin-library/ class=gdoc-nav__entry>
Builtin Libraries
</a>
</span>
</li>
<li>
<span class=flex>
<a href=../../guides/formatting/ class=gdoc-nav__entry>
Formatting
</a>
</span>
</li>
<li>
<span class=flex>
<a href=../../guides/multiple-languages/ class=gdoc-nav__entry>
Multiple dependent languages
</a>
</span>
</li>
</ul>
</li>
<li>
<span class=flex>
<a href=../../tutorials/ class=gdoc-nav__entry>
Tutorials
</a>
</span>
<ul class=gdoc-nav__list>
<li>
<span class=flex>
<a href=../../tutorials/writing_a_grammar/ class=gdoc-nav__entry>
Writing a Grammar
</a>
</span>
</li>
<li>
<span class=flex>
<a href=../../tutorials/validation/ class=gdoc-nav__entry>
Validation
</a>
</span>
</li>
<li>
<span class=flex>
<a href=../../tutorials/customizing_cli/ class=gdoc-nav__entry>
Customizing the CLI
</a>
</span>
</li>
<li>
<span class=flex>
<a href=../../tutorials/generation/ class=gdoc-nav__entry>
Generation
</a>
</span>
</li>
<li>
<span class=flex>
<a href=../../tutorials/building_an_extension/ class=gdoc-nav__entry>
Building an Extension
</a>
</span>
</li>
<li>
<span class=flex>
<a href=../../tutorials/langium_and_monaco/ class=gdoc-nav__entry>
Langium + Monaco Editor
</a>
</span>
</li>
<li>
<span class=flex>
<a href=../../tutorials/generation_in_the_web/ class=gdoc-nav__entry>
Generation in the Web
</a>
</span>
</li>
</ul>
</li>
<li>
<span class=flex>
<a href=../../showcase/ class=gdoc-nav__entry>
Langium Showcase
</a>
</span>
<ul class=gdoc-nav__list>
</ul>
</li>
</ul>
</section>
<section class=gdoc-nav--more>
<h2>More</h2>
<ul class=gdoc-nav__list>
<li>
<span class=flex><svg class="icon gdoc_download"><use xlink:href="#gdoc_download"/></svg>
<a href=https://www.npmjs.com/package/langium class=gdoc-nav__entry>
Get npm Package
</a>
</span>
</li>
<li>
<span class=flex><svg class="icon gdoc_github"><use xlink:href="#gdoc_github"/></svg>
<a href=https://github.com/eclipse-langium/langium class=gdoc-nav__entry>
View Source
</a>
</span>
</li>
</ul>
</section>
</nav>
</aside>
<div class=gdoc-page>
<div class="gdoc-page__header flex flex-wrap
justify-between" itemprop=breadcrumb>
<div><svg class="icon gdoc_path hidden-mobile"><use xlink:href="#gdoc_path"/></svg>
<ol class=breadcrumb itemscope itemtype=https://schema.org/BreadcrumbList>
<li itemprop=itemListElement itemscope itemtype=https://schema.org/ListItem><a itemscope itemtype=https://schema.org/WebPage itemprop=item itemid=/ href=../../><span itemprop=name>Langium</span></a><meta itemprop=position content="1"></li><li> / </li><li itemprop=itemListElement itemscope itemtype=https://schema.org/ListItem><a itemscope itemtype=https://schema.org/WebPage itemprop=item itemid=/docs/ href=../../docs/><span itemprop=name>Documentation</span></a><meta itemprop=position content="2"></li><li> / </li><li itemprop=itemListElement itemscope itemtype=https://schema.org/ListItem><span itemprop=name>The Grammar Language</span><meta itemprop=position content="3"></li>
</ol>
</div>
<div>
<span class=editpage><svg class="icon gdoc_code"><use xlink:href="#gdoc_code"/></svg>
<a href=https://github.com/eclipse-langium/langium-website/blob/main/hugo/content/docs/grammar-language.md>
Edit this page
</a>
</span>
</div>
</div>
<article class="gdoc-markdown gdoc-markdown__align--left">
<h1>The Grammar Language</h1>
<p>The grammar language describes the syntax and structure of your language. The <a class=gdoc-markdown__link href=https://github.com/eclipse-langium/langium/blob/main/packages/langium/src/grammar/langium-grammar.langium>Langium grammar language</a> is implemented using Langium itself and therefore follows the same syntactic rules as any language created with Langium. The grammar language will define the structure of the <em>abstract syntax tree</em> (AST) which in Langium is a collection of <em>TypeScript types</em> describing the content of a parsed document and organized hierarchically. The individual nodes of the tree are then represented with JavaScript objects at runtime.</p>
<p>In the following, we describe the Langium syntax and document structure.</p>
<div class=gdoc-page__anchorwrap>
<h2 id=language-declaration>
Language Declaration
<a data-clipboard-text=/docs/grammar-language/#language-declaration class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor Language Declaration" href=#language-declaration><svg class="icon gdoc_link"><use xlink:href="#gdoc_link"/></svg>
</a>
</h2>
</div><p>An <em>entry</em> Langium grammar file (i.e. a grammar which contains an <a class=gdoc-markdown__link href=#the-entry-rule>entry rule</a>) always starts with a header which declares the name of the language. For example, a language named <code>MyLanguage</code> would be declared with:</p>
<pre><code class=language-langium>grammar MyLanguage
</code></pre>
<p>Every grammar file has a <code>.langium</code> extension and the <em>entry grammar file</em> needs to be referenced in <code>langium-config.json</code>. If you used the <a class=gdoc-markdown__link href=https://www.npmjs.com/package/generator-langium>Yeoman generator</a> to start your project, the configuration is already prepared.</p>
<div class=gdoc-page__anchorwrap>
<h3 id=import-of-other-grammar-languages>
Import of other grammar languages
<a data-clipboard-text=/docs/grammar-language/#import-of-other-grammar-languages class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor Import of other grammar languages" href=#import-of-other-grammar-languages><svg class="icon gdoc_link"><use xlink:href="#gdoc_link"/></svg>
</a>
</h3>
</div><p>It is possible to reuse grammar rules from other <code>.langium</code> files by importing them into your own grammar file.</p>
<pre><code class=language-langium>import './path/to/an/other/langium/grammar';
</code></pre>
<p>This will import <strong>all grammar rules</strong> from the imported grammar file. It is therefore crucial to ensure that there are no duplicate rules between the different grammar files.</p>
<p>Contrary to <em>entry grammars</em>, imported grammars do not need to start with the keyword <code>grammar</code>.</p>
<div class=gdoc-page__anchorwrap>
<h2 id=terminal-rules>
Terminal Rules
<a data-clipboard-text=/docs/grammar-language/#terminal-rules class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor Terminal Rules" href=#terminal-rules><svg class="icon gdoc_link"><use xlink:href="#gdoc_link"/></svg>
</a>
</h2>
</div><p>The first step in parsing your language is <em>lexing</em>, which transforms a stream of characters into a stream of tokens. A token is a sequence of one or many characters which is matched by a <em>terminal rule</em>, creating an atomic symbol. The names of terminal rules are conventionally written in upper case.</p>
<p>The Langium parser is created using <a class=gdoc-markdown__link href=https://github.com/chevrotain/chevrotain>Chevrotain</a> which has a built-in lexer based on <a class=gdoc-markdown__link href=https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions>Javascript Regular Expressions</a>.</p>
<p>Langium also allows the use of <a class=gdoc-markdown__link href=#extended-backus-naur-form-terminals>Extended Backus-Naur Form (EBNF) Expressions</a> for terminals, but we <em>highly</em> recommend that you write your terminals using Regular Expressions instead. EBNF expressions are internally translated by langium into Regular Expressions, as they are intended to allow porting Xtext grammars into Langium grammars &ndash; given their similarity.</p>
<p>With that said, both types of expressions can be used jointly in the same grammar.</p>
<p>The declaration of a terminal rule starts with the keyword <code>terminal</code>:</p>
<pre><code class=language-langium>terminal ID: /[_a-zA-Z][\w_]*/;
</code></pre>
<p>Here, the token <code>ID</code> will match a stream of characters starting with the character <code>_</code>, a small letter, or a capital letter followed by a sequence of zero or many (<a class=gdoc-markdown__link href=#cardinalities>cardinality</a> *) alphanumeric characters (<code>\w</code>) or <code>_</code>.</p>
<p><strong>The order in which terminal rules are defined is critical</strong> as the lexer will always return the first match.</p>
<div class=gdoc-page__anchorwrap>
<h3 id=return-types>
Return Types
<a data-clipboard-text=/docs/grammar-language/#return-types class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor Return Types" href=#return-types><svg class="icon gdoc_link"><use xlink:href="#gdoc_link"/></svg>
</a>
</h3>
</div><p>A terminal rule returns an instance of a <em>TypeScript primitive type</em>. If no return type is specified, the terminal rule will return a <code>string</code> by default.</p>
<pre><code class=language-langium>terminal ID: /[_a-zA-Z][\w_]*/;
terminal INT returns number: /[0-9]+/;
</code></pre>
<p>Here, the terminal rule <code>ID</code> will return an instance of <code>string</code> while the terminal rule <code>INT</code> will return an instance of <code>number</code>.</p>
<p>The available return types in Langium are:</p>
<ul>
<li><code>string</code></li>
<li><code>number</code></li>
<li><code>boolean</code></li>
<li><code>bigint</code></li>
<li><code>Date</code></li>
</ul>
<div class=gdoc-page__anchorwrap>
<h3 id=hidden-terminal-rules>
Hidden Terminal Rules
<a data-clipboard-text=/docs/grammar-language/#hidden-terminal-rules class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor Hidden Terminal Rules" href=#hidden-terminal-rules><svg class="icon gdoc_link"><use xlink:href="#gdoc_link"/></svg>
</a>
</h3>
</div><p>The lexer tries to match every character in the document to a terminal rule or a keyword. It is therefore necessary to specify which characters or sequence of characters need to be ignored during lexing and parsing. Generally, you would want to ignore whitespaces and comments. This is achieved by adding the keyword <code>hidden</code> when defining a terminal rule. These <em>hidden terminal rules</em> are global and will be valid for all parser rules in the document.</p>
<pre><code class=language-langium>hidden terminal WS: /\s+/;
hidden terminal ML_COMMENT: /\/\*[\s\S]*?\*\//;
hidden terminal SL_COMMENT: /\/\/[^\n\r]*/;
</code></pre>
<div class=gdoc-page__anchorwrap>
<h2 id=parser-rules>
Parser Rules
<a data-clipboard-text=/docs/grammar-language/#parser-rules class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor Parser Rules" href=#parser-rules><svg class="icon gdoc_link"><use xlink:href="#gdoc_link"/></svg>
</a>
</h2>
</div><p>While <a class=gdoc-markdown__link href=#terminal-rules>terminal rules</a> indicate to the lexer what sequence of characters are valid tokens, <em>parser rules</em> indicate to the parser what sequence of tokens are valid. Parser rules lay the structure of objects to be created by the parser and result in the creation of the <em>abstract syntax tree</em> (AST) which represents the syntactic structure of your language. In Langium, parser rules are also responsible for defining the type of objects to be parsed.</p>
<div class=gdoc-page__anchorwrap>
<h3 id=declaration>
Declaration
<a data-clipboard-text=/docs/grammar-language/#declaration class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor Declaration" href=#declaration><svg class="icon gdoc_link"><use xlink:href="#gdoc_link"/></svg>
</a>
</h3>
</div><p>A parser rule always starts with the name of the rule followed by a colon.</p>
<pre><code class=language-langium>Person:
    'person' name=ID;
</code></pre>
<p>In this example, the parser will create an object of type <code>Person</code>. This object will have a property <code>name</code> which value and type must match the terminal rule <code>ID</code> (i.e. the property <code>name</code> is of type <code>string</code> and cannot start with a digit or special character).</p>
<p>By default, the parser will create an object with an inferred type corresponding to the parser rule name. It is possible to override this behavior by explicitly defining the type of the object to be created. This is done by adding the keyword <code>returns</code> followed by a separately declared type, or the keyword <code>infers</code> followed by the name of the type to be inferred for this rule (more about this <a class=gdoc-markdown__link href=../sematic-model>in the next chapter</a>):</p>
<pre><code class=language-langium>Person infers OtherType:
    'person' name=ID;
</code></pre>
<p>The parser rule <code>Person</code> will now lead to the creation of objects of type <code>OtherType</code> instead of <code>Person</code>.</p>
<div class=gdoc-page__anchorwrap>
<h3 id=the-entry-rule>
The Entry Rule
<a data-clipboard-text=/docs/grammar-language/#the-entry-rule class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor The Entry Rule" href=#the-entry-rule><svg class="icon gdoc_link"><use xlink:href="#gdoc_link"/></svg>
</a>
</h3>
</div><p>The <em>entry rule</em> is a parser rule that defines the starting point of the parsing step. The <em>entry rule</em> starts with the keyword <code>entry</code> and matches other parser rules.</p>
<pre><code class=language-langium>entry Model:
    (persons+=Person | greetings+=Greeting)*;
</code></pre>
<p>In this example, the <em>entry rule</em> <code>Model</code> defines a group of alternatives. The parser will go through the input document and try to parse <code>Person</code> or <code>Greeting</code> objects and add them to the <code>persons</code> or <code>greetings</code> arrays, respectively. The parser reads the token stream until all inputs have been consumed.</p>
<div class=gdoc-page__anchorwrap>
<h3 id=extended-backus-naur-form-expressions>
Extended Backus-Naur Form Expressions
<a data-clipboard-text=/docs/grammar-language/#extended-backus-naur-form-expressions class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor Extended Backus-Naur Form Expressions" href=#extended-backus-naur-form-expressions><svg class="icon gdoc_link"><use xlink:href="#gdoc_link"/></svg>
</a>
</h3>
</div><p>Parser rules are defined using <em>Extended Backus-Naur Form</em>-like (EBNF) expressions similar to the <a class=gdoc-markdown__link href=https://www.eclipse.org/Xtext/>Xtext</a> notation.</p>
<div class=gdoc-page__anchorwrap>
<h4 id=cardinalities>
Cardinalities
<a data-clipboard-text=/docs/grammar-language/#cardinalities class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor Cardinalities" href=#cardinalities><svg class="icon gdoc_link"><use xlink:href="#gdoc_link"/></svg>
</a>
</h4>
</div><p>A cardinality defines the number of elements in a given set. Four different cardinalities can be defined for any expression:</p>
<ol>
<li>exactly one (no operator)</li>
<li>zero or one (operator <code>?</code>)</li>
<li>zero or many (operator <code>*</code>)</li>
<li>one or many (operator <code>+</code>)</li>
</ol>
<div class=gdoc-page__anchorwrap>
<h4 id=groups>
Groups
<a data-clipboard-text=/docs/grammar-language/#groups class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor Groups" href=#groups><svg class="icon gdoc_link"><use xlink:href="#gdoc_link"/></svg>
</a>
</h4>
</div><p>Expressions can be put in sequence specifying the order they have to appear:</p>
<pre><code class=language-langium>Person:
    'person' name=ID address=Address;
</code></pre>
<p>In this example, the rule <code>Person</code> must start with the <code>person</code> keyword followed by an <code>ID</code> token and an instance of the <code>Address</code> rule.</p>
<div class=gdoc-page__anchorwrap>
<h4 id=alternatives>
Alternatives
<a data-clipboard-text=/docs/grammar-language/#alternatives class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor Alternatives" href=#alternatives><svg class="icon gdoc_link"><use xlink:href="#gdoc_link"/></svg>
</a>
</h4>
</div><p>It is possible to match one of multiple valid options by using the pipe operator <code>|</code>. The already mentioned <code>Model</code> example specifies to parse either <code>Person</code> or <code>Greeting</code>, zero or many times (cardinality *):</p>
<pre><code class=language-langium>entry Model:
    (persons+=Person | greetings+=Greeting)*;
</code></pre>
<div class=gdoc-page__anchorwrap>
<h4 id=keywords>
Keywords
<a data-clipboard-text=/docs/grammar-language/#keywords class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor Keywords" href=#keywords><svg class="icon gdoc_link"><use xlink:href="#gdoc_link"/></svg>
</a>
</h4>
</div><p>Keywords are <em>inline terminals</em> which need to match a character sequence surrounded by single or double quotes, for example <code>'person'</code> or <code>"person"</code>. Keywords must not be empty and must not contain white space.</p>
<div class=gdoc-page__anchorwrap>
<h4 id=assignments>
Assignments
<a data-clipboard-text=/docs/grammar-language/#assignments class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor Assignments" href=#assignments><svg class="icon gdoc_link"><use xlink:href="#gdoc_link"/></svg>
</a>
</h4>
</div><p>Assignments define properties on the type returned by the surrounding rule.
There are three different ways to assign an expression (right side) to a property (left side).</p>
<ol>
<li>
<p><code>=</code> is used for assigning <strong>a single value</strong> to a property.</p>
<pre><code class=language-langium>Person:
    'person' name=ID
</code></pre>
<p>Here, the property <code>name</code> will accept only one expression matching the terminal rule <code>ID</code>.</p>
</li>
<li>
<p><code>+=</code> is used to assign <strong>multiple values</strong> to an array property.</p>
<pre><code class=language-langium>Contact:
    addresses+=STRING addresses+=STRING;
</code></pre>
<p>Here, the array property <code>addresses</code> will accept two expressions matching the terminal rule <code>STRING</code>.</p>
</li>
<li>
<p><code>?=</code> is used to assign a <strong>value to a property of type boolean</strong>. The value of the property of type <code>boolean</code> is set to <code>true</code> if the right part of the assignment is consumed by the parser.</p>
<pre><code class=language-langium>Employee:
    'employee' name=ID (remote?='remote')?
</code></pre>
<p>Here the value of the property <code>remote</code> will be set to <code>true</code> if the keyword <code>remote</code> was successfully parsed as a part of the rule call. If the keyword <code>remote</code> is not consumed (cardinality is <code>?</code>), the property <code>remote</code> is set to <code>false</code>.</p>
</li>
</ol>
<div class=gdoc-page__anchorwrap>
<h4 id=cross-references>
Cross-References
<a data-clipboard-text=/docs/grammar-language/#cross-references class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor Cross-References" href=#cross-references><svg class="icon gdoc_link"><use xlink:href="#gdoc_link"/></svg>
</a>
</h4>
</div><p>With Langium, you can declare <em>cross-references</em> directly in the grammar. A <em>cross-reference</em> allows to reference an object of a given type. The syntax is:</p>
<pre><code class=language-langium>property=[Type:TOKEN]
</code></pre>
<p>The <code>property</code> will be a reference to an object of type <code>Type</code> identified by the token <code>TOKEN</code>. If the <code>TOKEN</code> is omitted, the parser will use the terminal or data type rule associated with the <code>name</code> assignment of the <code>Type</code> rule. If no such rule exists, then the token is mandatory.</p>
<pre><code class=language-langium>Person:
    'person' name=ID;
Greeting:
    'Hello' person=[Person:ID] '!';
</code></pre>
<p>The <code>Person</code> in square brackets does not refer to the parser rule <code>Person</code> but instead refers to an object of type <code>Person</code>. It will successfully parse a document like:</p>
<pre><code>person Bob
Hello Bob !
</code></pre>
<p>but the following:</p>
<pre><code>person Bob
Hello Sara !
</code></pre>
<p>will result in an error message since the cross reference resolution will fail because a <code>Person</code> object with the name &lsquo;Sara&rsquo; has not been defined, even though &lsquo;Sara&rsquo; is a valid <code>ID</code>.</p>
<div class=gdoc-page__anchorwrap>
<h4 id=unassigned-rule-calls>
Unassigned Rule Calls
<a data-clipboard-text=/docs/grammar-language/#unassigned-rule-calls class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor Unassigned Rule Calls" href=#unassigned-rule-calls><svg class="icon gdoc_link"><use xlink:href="#gdoc_link"/></svg>
</a>
</h4>
</div><p>Parser rules do not necessarily need to create an object, they can also refer to other parser rules which in turn will be responsible for returning the object.
For example, in the <a class=gdoc-markdown__link href=https://github.com/eclipse-langium/langium/blob/main/examples/arithmetics/src/language-server/arithmetics.langium>Arithmetics example</a>:</p>
<pre><code class=language-langium>AbstractDefinition:
	Definition | DeclaredParameter;
</code></pre>
<p>The parser rule <code>AbstractDefinition</code> will not create an object of type AbstractDefinition. Instead, it calls either the <code>Definition</code> or <code>DeclaredParameter</code> parser rule which will be responsible for creating an object of a given type (or call other parser rules if they are unassigned rule calls themselves).</p>
<p>In contrast, an assigned rule call such as <code>parameter=DeclaredParameter</code> means that an object is created in the current parser rule and assigns the result of the <code>DeclaredParameter</code> parser rule to the specified property <code>parameter</code> of that object.</p>
<div class=gdoc-page__anchorwrap>
<h4 id=unordered-groups>
Unordered Groups
<a data-clipboard-text=/docs/grammar-language/#unordered-groups class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor Unordered Groups" href=#unordered-groups><svg class="icon gdoc_link"><use xlink:href="#gdoc_link"/></svg>
</a>
</h4>
</div><p>In regular groups, expressions must occur in the exact order they are declared.</p>
<pre><code class=language-langium>Person:
    'person' name=ID age=INT
</code></pre>
<p>Here a <code>Person</code> object <strong>needs</strong> to first declare the property <code>name</code> then <code>age</code>.</p>
<pre><code>person Bob 25
</code></pre>
<p>will successfully be parsed to an object of type <code>Person</code> while</p>
<pre><code>person 25 Bob
</code></pre>
<p>will throw an error.</p>
<p>However, it is possible to declare a group of properties in an unordered fashion using the <code>&</code> operator</p>
<pre><code class=language-langium>Person:
    'person' name=ID &amp; age=INT
</code></pre>
<p>will now allow <code>name</code> and <code>age</code> to be declared in any order.</p>
<pre><code>person 25 Bob
</code></pre>
<p>will then successfully create an object of type <code>Person</code>.</p>
<p>Cardinality (?,*,+ operators) also applies to unordered group. Please note that assignments with a cardinality of <code>+</code> or <code>*</code> have to appear continuously and cannot be interrupted by an other assignment and resumed later.</p>
<div class=gdoc-page__anchorwrap>
<h4 id=simple-actions>
Simple Actions
<a data-clipboard-text=/docs/grammar-language/#simple-actions class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor Simple Actions" href=#simple-actions><svg class="icon gdoc_link"><use xlink:href="#gdoc_link"/></svg>
</a>
</h4>
</div><p>It is possible for a rule to return different types depending on declaration</p>
<pre><code class=language-langium>interface TypeOne {
    name: string
}
RuleOne returns TypeOne:
    'keywordOne' name=ID | RuleTwo;

interface TypeTwo extends TypeOne {}
RuleTwo returns TypeTwo:
    'keywordTwo' name=ID;
</code></pre>
<p>A rule call is one of the ways to specify the return type. With more complex rules, the readability will be highly impacted. <em>Actions</em> allow to improve the readability of the grammar by explicitly defining the return type. Actions are declared inside of curly braces <code>{}</code>:</p>
<pre><code class=language-langium>RuleOne returns TypeOne:
    'keywordOne' name=ID | {TypeTwo} 'keywordTwo' name=ID;
</code></pre>
<p>The example above requires that the return types <code>TypeOne</code> and <code>TypeTwo</code> are declared separately (see <a class=gdoc-markdown__link href=../semantic-model>the next chapter</a>). If the type returned by the action is created on-the-fly, the keyword <code>infer</code> needs to be added:</p>
<pre><code class=language-langium>RuleOne infers TypeOne:
    'keywordOne' name=ID | {infer TypeTwo} 'keywordTwo' name=ID;
</code></pre>
<p>Now both <code>TypeOne</code> and <code>TypeTwo</code> are inferred from the rule definition. Note that we use the keyword <code>infers</code> (declarative) for the grammar rule, but <code>infer</code> (imperative) for the action.</p>
<div class=gdoc-page__anchorwrap>
<h4 id=tree-rewriting-actions>
Tree-Rewriting Actions
<a data-clipboard-text=/docs/grammar-language/#tree-rewriting-actions class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor Tree-Rewriting Actions" href=#tree-rewriting-actions><svg class="icon gdoc_link"><use xlink:href="#gdoc_link"/></svg>
</a>
</h4>
</div><p>The parser is built using <a class=gdoc-markdown__link href=https://github.com/chevrotain/chevrotain>Chevrotain</a> which implements a LL(k) parsing algorithm (left-to-right). Conceptually, a LL(k) grammar cannot have rules containing left recursion.</p>
<p>Consider the following:</p>
<pre><code class=language-langium>Addition:
    Addition '+' Addition | '(' Addition ')' | value=INT;
</code></pre>
<p>The parser rule <code>Addition</code> is left-recursive and will not be parseable. We can go around this issue by <em>left-factoring</em> the rule, <em>i.e.</em> by factoring out the common left-factor. We introduce a new rule <code>SimpleExpression</code>:</p>
<pre><code class=language-langium>Addition:
    SimpleExpression ('+' right=SimpleExpression)*;

SimpleExpression:
    '(' Addition ')' | value=INT;
</code></pre>
<p>Unfortunately, <em>left-factoring</em> does not come without consequences and can lead to the generation of unwanted nodes. It is possible to &ldquo;clean&rdquo; the tree by using <em>tree-rewriting actions</em>.</p>
<pre><code class=language-langium>Addition returns Expression:
    SimpleExpression ({Addition.left=current} '+' right=SimpleExpression)*;

SimpleExpression:
    '(' Addition ')' | value=INT;
</code></pre>
<p>Essentially this means that when a <code>+</code> keyword is found, a new object of type <code>Addition</code> is created and the current object is assigned to the <code>left</code> property of the new object. The <code>Addition</code> then becomes the new current object. In imperative pseudo code it may look like this:</p>
<pre><code class=language-js>function Addition() {
    let current = SimpleExpression()
    while (nextToken == '+') {
        let newObject = new Addition
        newObject.left = current
        current = newObject
        current.right = SimpleExpression()
    }
}
</code></pre>
<p>Please refer to <a class=gdoc-markdown__link href=https://www.typefox.io/blog/parsing-expressions-with-xtext>this blog post</a> for further details.</p>
<div class=gdoc-page__anchorwrap>
<h3 id=data-type-rules>
Data Type Rules
<a data-clipboard-text=/docs/grammar-language/#data-type-rules class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor Data Type Rules" href=#data-type-rules><svg class="icon gdoc_link"><use xlink:href="#gdoc_link"/></svg>
</a>
</h3>
</div><p>Data type rules are similar to terminal rules as they match a sequence of characters. However, they are parser rules and are therefore context-dependent. This allows for more flexible parsing, as they can be interspersed with hidden terminals, such as whitespaces or comments. Contrary to terminal rules, they cannot use <em>regular expressions</em> to match a stream of characters, so they have to be composed of keywords, terminal rules or other data type rules.</p>
<p>The following example from the <a class=gdoc-markdown__link href=https://github.com/eclipse-langium/langium/blob/main/examples/domainmodel/src/language-server/domain-model.langium>domain model example</a> uses the <code>QualifiedName</code> data type rule to enable references to other elements using their fully qualified name.</p>
<pre><code class=language-langium>QualifiedName returns string:
    ID ('.' ID)*;
</code></pre>
<p>Data type rules need to specify a primitive return type.</p>
<div class=gdoc-page__anchorwrap>
<h3 id=rule-fragments>
Rule Fragments
<a data-clipboard-text=/docs/grammar-language/#rule-fragments class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor Rule Fragments" href=#rule-fragments><svg class="icon gdoc_link"><use xlink:href="#gdoc_link"/></svg>
</a>
</h3>
</div><p>If you are facing repetitive patterns in your grammar definition, you can take advantage of <em>Rule Fragments</em> to improve the grammar&rsquo;s maintainability.</p>
<pre><code class=language-langium>Student:
    'student' firstName=ID lastName=ID address=STRING phoneNumber=STRING grades=Grades;
Teacher:
    'teacher' firstName=ID lastName=ID address=STRING phoneNumber=STRING classes=Classes;
TechnicalStaff:
    'tech' firstName=ID lastName=ID address=STRING phoneNumber=STRING;
</code></pre>
<p>The parser rules Student, Teacher, and TechnicalStaff partly share the same syntax.
If, for example, the assignment for <code>phoneNumber</code> had to be updated, we would need to make changes everywhere the <code>phoneNumber</code> assignment was used.
We can introduce <em>Rule Fragments</em> to extract similar patterns and improve maintainability:</p>
<pre><code class=language-langium>fragment Details:
    firstName=ID lastName=ID address=STRING phoneNumber=STRING;

Student:
    'student' Details grades=Grades;
Teacher:
    'teacher' Details classes=Classes;
TechnicalStaff:
    'tech' Details;
</code></pre>
<p>Fragment rules are not part of the AST and will therefore never create an object, instead they can be understood as being textually inserted where they are referenced.</p>
<div class=gdoc-page__anchorwrap>
<h3 id=guard-conditions>
Guard Conditions
<a data-clipboard-text=/docs/grammar-language/#guard-conditions class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor Guard Conditions" href=#guard-conditions><svg class="icon gdoc_link"><use xlink:href="#gdoc_link"/></svg>
</a>
</h3>
</div><p>It may be useful to group parser rules with small variations inside of a single parser rule. Given the following example:</p>
<pre><code class=language-langium>entry Model:
    element+=RootElement;

RootElement infers Element:
    isPublic?='public'?
    'element' name=ID '{'
        elements+=Element*
    '}';

Element:
    'element' name=ID '{'
        elements+=Element*
    '}';
</code></pre>
<p>The only difference between <code>RootElement</code> and <code>Element</code> is that the former has the boolean property <code>isPublic</code>.
We can refactor the grammar so that only <code>Element</code> is present in the grammar with a <em>guard condition</em> that will determine which concrete syntax should be used by the parser:</p>
<pre><code class=language-langium>entry Model:
    element+=Element&lt;true&gt;;

Element&lt;isRoot&gt;:
	(&lt;isRoot&gt; isPublic?='public')? 
	'element' name=ID '{'
		elements+=Element&lt;false&gt;*
	'}';
</code></pre>
<p><code>Element</code> has the guard <code>isRoot</code>, which will determine whether the optional group containing the <code>isPublic</code> property is allowed to be parsed.</p>
<p>The <em>entry rule</em> <code>Model</code> sets the value of <code>isRoot</code> to <code>true</code> with <code>element+=Element&lt;true></code>, while <code>isRoot</code> is set to <code>false</code> inside of the <code>Element&lt;isRoot></code> parser rule with <code>elements+=Element&lt;false></code>.</p>
<p>In general, a guard condition on a group decides whether the parser is allowed to parse the group or not depending on the result of the evaluated condition. Logical operations can be applied, such as <code>&</code> (and), <code>|</code> (or) and <code>!</code> (not) to fine-tune the exact conditions in which the group is supposed to be parsed.</p>
<p>Additionally, guard conditions can also be used inside of alternatives. See the following example:</p>
<pre><code class=language-langium>entry Model:
    element+=Element&lt;true&gt;;

Element&lt;isRoot&gt;:
	(&lt;isRoot&gt; 'root' | &lt;!isRoot&gt; 'element') name=ID '{'
		elements+=Element&lt;false&gt;*
	'}';
</code></pre>
<p>The parser will always exclude alternatives whose guard conditions evaluate to <code>false</code>. All other alternatives remain possible options for the parser to choose from.</p>
<div class=gdoc-page__anchorwrap>
<h3 id=more-examples>
More Examples
<a data-clipboard-text=/docs/grammar-language/#more-examples class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor More Examples" href=#more-examples><svg class="icon gdoc_link"><use xlink:href="#gdoc_link"/></svg>
</a>
</h3>
</div><p>Not all parser rules need to be mentioned in the entry rule, as shown in this example:</p>
<pre><code class=language-langium>entry Model:
    (persons+=Person | greetings+=Greeting)*;

Person:
    'person' name=ID address=Address;

Greeting:
    'Hello' person=[Person] '!';

Address:
    street=STRING city=ID postcode=INT;
</code></pre>
<p>Here the <code>Person</code> parser rule includes a property <code>address</code> which matches the parser rule <code>Address</code>. We decided that an <code>Address</code> will never be present in the input document on its own and will always be parsed in relation to a <code>Person</code>. It is therefore not necessary to include an array of <code>Address</code> inside of the entry rule.</p>
<hr>
<p>Keywords are meant to provide a visible structure to the language and guide the parser in deciding what type of object needs to be parsed.
Consider the following:</p>
<pre><code class=language-langium>Student:
    name=ID;

Teacher:
    name=ID;

Person:
    Student | Teacher;
</code></pre>
<p>In this example, a <code>Person</code> can either be a <code>Student</code> or a <code>Teacher</code>. This grammar is ambiguous because the parser rules <code>Student</code> and <code>Teacher</code> are identical. The parser will not be able to differentiate between the parser rules for <code>Student</code> and <code>Teacher</code> when trying to parse a <code>Person</code>.
Keywords can help removing such ambiguity and guide the parser in defining if a <code>Student</code> or <code>Teacher</code> needs to be parsed.
We can add a keyword to the parser rule <code>Student</code>, <code>Teacher</code>, or to both of them:</p>
<pre><code class=language-langium>Student:
    'student' name=ID;

Teacher:
    'teacher' name=ID;

Person:
    Student | Teacher;
</code></pre>
<p>Now the ambiguity is resolved and the parser is able to differentiate between the two parser rules.</p>
<p>Parser rules can have many keywords:</p>
<pre><code class=language-langium>Person:
    'person' name=ID 'age' age=INT;
</code></pre>
<hr>
<p>If an assignment has a cardinality of <code>+</code> or <code>*</code>, then the expressions belong to a single group and must not be interrupted by other expressions.</p>
<pre><code class=language-langium>Paragraph:
    'paragraph' (sentences+=STRING)+ id=INT;
</code></pre>
<p>Here, the property <code>sentences</code> will accept one or many expressions matching the terminal rule <code>STRING</code> followed by an <code>INT</code>. The parsing of a document containing:</p>
<pre><code>paragraph &quot;The expression group &quot; 3 &quot;was interrupted&quot;
</code></pre>
<p>will throw an error since the <code>STRING</code> expressions are not continuous. It is however possible to interrupt and resume a sequence of expressions by using <a class=gdoc-markdown__link href=#hidden-terminal-rules>hidden terminal symbols</a>:</p>
<pre><code>paragraph &quot;expression one&quot; /* comment */ &quot;expression two&quot; 3
</code></pre>
<p>The above example will be successfully parsed.</p>
<div class=gdoc-page__anchorwrap>
<h2 id=more-on-terminal-rules>
More on Terminal Rules
<a data-clipboard-text=/docs/grammar-language/#more-on-terminal-rules class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor More on Terminal Rules" href=#more-on-terminal-rules><svg class="icon gdoc_link"><use xlink:href="#gdoc_link"/></svg>
</a>
</h2>
</div><div class=gdoc-page__anchorwrap>
<h3 id=extended-backus-naur-form-terminals>
Extended Backus-Naur Form Terminals
<a data-clipboard-text=/docs/grammar-language/#extended-backus-naur-form-terminals class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor Extended Backus-Naur Form Terminals" href=#extended-backus-naur-form-terminals><svg class="icon gdoc_link"><use xlink:href="#gdoc_link"/></svg>
</a>
</h3>
</div><p><em>For full disclosure, we recommend using regular expressions when writing your terminals, as EBNF expressions are translated to regular expressions internally anyway. EBNF support is primarily intended for supporting grammars that were originally written in Xtext, but are being ported to Langium.</em></p>
<p>As mentioned earlier, terminal rules can be described using <em>regular expressions</em> or <em>EBNF expressions</em>.</p>
<p>EBNF expressions are very similar to <a class=gdoc-markdown__link href=#extended-backus-naur-form-expressions>parser rules</a>, which are described above. In this section, we describe which EBNF expressions are supported for terminals and their equivalent in <em>Javascript Regular Expressions</em> where possible.</p>
<div class=gdoc-page__anchorwrap>
<h4 id=terminal-groups>
Terminal Groups
<a data-clipboard-text=/docs/grammar-language/#terminal-groups class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor Terminal Groups" href=#terminal-groups><svg class="icon gdoc_link"><use xlink:href="#gdoc_link"/></svg>
</a>
</h4>
</div><p>Tokens can be put in sequence specifying the order they have to appear:</p>
<pre><code class=language-langium>terminal FLIGHT_NUMBER: ('A'..'Z')('A'..'Z')('0'..'9')('0'..'9')('0'..'9')('0'...'9')?;
</code></pre>
<p>In this example, the token <code>FLIGHT_NUMBER</code> must start with two capital letters followed by three or four digits.</p>
<div class=gdoc-page__anchorwrap>
<h4 id=terminal-alternatives>
Terminal Alternatives
<a data-clipboard-text=/docs/grammar-language/#terminal-alternatives class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor Terminal Alternatives" href=#terminal-alternatives><svg class="icon gdoc_link"><use xlink:href="#gdoc_link"/></svg>
</a>
</h4>
</div><p>It is possible to match one of multiple valid options by using the pipe operator <code>|</code>. The terminal rule <code>STRING</code> can use alternatives to match a sequence of characters between double quotes <code>""</code> or single quotes <code>''</code>:</p>
<pre><code class=language-langium>terminal STRING: '&quot;' !('&quot;')* '&quot;' | ''' !(''')* '''; 
</code></pre>
<p>In regular expression, alternatives are also possible with the pipe operator <code>|</code>:</p>
<pre><code class=language-langium>terminal STRING: /&quot;[^&quot;]*&quot;|'[^']*'/;
</code></pre>
<div class=gdoc-page__anchorwrap>
<h4 id=character-range>
Character Range
<a data-clipboard-text=/docs/grammar-language/#character-range class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor Character Range" href=#character-range><svg class="icon gdoc_link"><use xlink:href="#gdoc_link"/></svg>
</a>
</h4>
</div><p>The operator <code>..</code> is used to declare a character range. It is equivalent to the operator <code>-</code> within a character class in a regular expression. It matches any character in between the left character and the right character (inclusive on both ends).</p>
<pre><code class=language-langium>terminal INT returns number: ('0'..'9')+;
</code></pre>
<p>is equivalent to the regular expression:</p>
<pre><code class=language-langium>terminal INT returns number: /[0-9]+/;
</code></pre>
<p>Here, <code>INT</code> is matched to one or more characters (by using the operand <code>+</code>, which defines a <a class=gdoc-markdown__link href=#cardinalities>cardinality</a> of &lsquo;one or many&rsquo;) between <code>0</code> and <code>9</code> (inclusive on both ends).</p>
<div class=gdoc-page__anchorwrap>
<h4 id=wildcard-token>
Wildcard Token
<a data-clipboard-text=/docs/grammar-language/#wildcard-token class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor Wildcard Token" href=#wildcard-token><svg class="icon gdoc_link"><use xlink:href="#gdoc_link"/></svg>
</a>
</h4>
</div><p>The operator <code>.</code> is used to match any character and is similar in regular expression.</p>
<pre><code class=language-langium>terminal HASHTAG: '#'.+;
</code></pre>
<p>In this example, the terminal rule <code>HASHTAG</code> matches a sequence of character starting with <code>#</code> followed by one or many (<a class=gdoc-markdown__link href=#cardinalities>cardinality</a> +) characters.</p>
<p>Equivalent in regular expression:</p>
<pre><code class=language-langium>terminal HASHTAG: /#.+/;
</code></pre>
<div class=gdoc-page__anchorwrap>
<h4 id=until-token>
Until Token
<a data-clipboard-text=/docs/grammar-language/#until-token class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor Until Token" href=#until-token><svg class="icon gdoc_link"><use xlink:href="#gdoc_link"/></svg>
</a>
</h4>
</div><p>The operator <code>-></code> indicates that all characters should be consumed from the left token <em>until</em> the right token occurs. For example, the terminal rule for multi-line comment can be implemented as:</p>
<pre><code class=language-langium>terminal ML_COMMENT: '/*' -&gt; '*/';
</code></pre>
<p>Langium will transform the until token into the regular expression <code>[\s\S]*?</code> which matches any character non-greedily:</p>
<pre><code class=language-langium>terminal ML_COMMENT: /\/\*[\s\S]*?\*\//;
</code></pre>
<div class=gdoc-page__anchorwrap>
<h4 id=negated-token>
Negated Token
<a data-clipboard-text=/docs/grammar-language/#negated-token class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor Negated Token" href=#negated-token><svg class="icon gdoc_link"><use xlink:href="#gdoc_link"/></svg>
</a>
</h4>
</div><p>It is possible to negate tokens using the operator <code>!</code>. In Langium this produces a <em>negative lookahead</em>. I.e., it does <em>not</em> consume tokens, but it is a &lsquo;guard&rsquo; for what the following expression can recognize.</p>
<p>For example, if you want to recognize a word that doesn&rsquo;t start with <code>no</code>, then you could write such an expression in EBNF like so:</p>
<pre><code class=language-langium>terminal NONO: (!'no')('a'..'z'|'A'..'Z')+;
</code></pre>
<p>For reference, this would correspond to the following regular expression:</p>
<pre><code class=language-langium>terminal NONO: /(?!no)[a-zA-Z]+/;
</code></pre>
<p>Note, if you&rsquo;re coming from Xtext, negated tokens works differently here. In Xtext, negated tokens allow recognizing the <em>complement</em> of a set of characters (or anything &lsquo;but&rsquo; what is listed in the negation), very much akin to a negated character class in regular expressions. This is <em>very</em> important to keep in mind if you&rsquo;re porting a grammar from Xtext, as Langium&rsquo;s interpretation of negated tokens deviates from that of Xtext.</p>
<div class=gdoc-page__anchorwrap>
<h4 id=terminal-rule-calls>
Terminal Rule Calls
<a data-clipboard-text=/docs/grammar-language/#terminal-rule-calls class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor Terminal Rule Calls" href=#terminal-rule-calls><svg class="icon gdoc_link"><use xlink:href="#gdoc_link"/></svg>
</a>
</h4>
</div><p>A terminal rule can include other terminal rules in its definition.</p>
<pre><code class=language-langium>terminal DOUBLE returns number: INT '.' INT;
</code></pre>
<p>Note that it is easy to create conflicts between terminal rules when using <em>terminal rule calls</em>. See <a class=gdoc-markdown__link href=#data-type-rules>Data Type Rules</a> for further details.</p>
<div class=gdoc-page__anchorwrap>
<h3 id=terminal-fragments>
Terminal Fragments
<a data-clipboard-text=/docs/grammar-language/#terminal-fragments class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor Terminal Fragments" href=#terminal-fragments><svg class="icon gdoc_link"><use xlink:href="#gdoc_link"/></svg>
</a>
</h3>
</div><p>Fragments allow for sub-definition of terminal rules to be extracted. They are not consumed by the lexer and have to be consumed by other terminal rules.</p>
<pre><code class=language-langium>terminal fragment CAPITAL_LETTER: ('A'..'Z');
terminal fragment SMALL_LETTER: ('a'..'z');
terminal NAME: CAPITAL_LETTER SMALL_LETTER+;
</code></pre>
<p>In this example, the lexer will not transform a single capital or small letter into a valid token but will match a sequence of one capital letter followed by one or many small letters.</p>
</article>
<div class="gdoc-page__footer flex flex-wrap justify-between">
</div>
</div>
</main>
<footer class=gdoc-footer>
<div class="container flex">
<div class="flex flex-wrap">
<span class="gdoc-footer__item gdoc-footer__item--row">
Built by <a href=http://typefox.io>TypeFox</a> with <a href=https://gohugo.io/ class=gdoc-footer__link>Hugo</a> and<svg class="icon gdoc_heart" style="color:red"><use xlink:href="#gdoc_heart"/></svg>
</span>
</div>
<div class="flex flex-25 justify-end">
<span class=gdoc-footer__item>
<a class="gdoc-footer__link fake-link" href=# aria-label="Back to top"><svg class="icon gdoc_keyborad_arrow_up"><use xlink:href="#gdoc_keyborad_arrow_up"/></svg> <span class=hidden-mobile>Back to top</span>
</a>
</span>
</div>
</div>
</footer>
</div>
<script defer src=../../js/en.search.min.971ccaa1bd805a9cd5c7d7152271e90fee332641122387bf7e018f38d29bae5e.js></script>
<script defer src=../../js/clipboard-27784b7376.min.js></script>
<script defer src=../../js/clipboard-loader-832dc83c27.min.js></script>
<script defer src=../../js/copycode-fd03c0d24f.min.js></script>
</body>
</html>